[{"id":"74e1d54a72b1f8cd","type":"subflow","name":"dectree node - Ok!","info":"","category":"decision tree","in":[{"x":296,"y":250,"wires":[{"id":"4468a471e299714d"}]}],"out":[{"x":1312,"y":677,"wires":[{"id":"e383141557e2f6a2","port":0}]}],"env":[{"name":"question","type":"str","value":""}],"meta":{},"color":"#FFAAAA","outputLabels":["Ok"],"icon":"node-red/alert.svg"},{"id":"4468a471e299714d","type":"function","z":"74e1d54a72b1f8cd","name":"define and stringify choices","func":"msg.question = env.get(\"question\")\n\nmsg.choices = [\n    {\n        value: \"1\",\n        text: \"Ok\"\n    },\n]\nmsg._choices = JSON.stringify(msg.choices)\n\n// TODO create a link to the node that represents this\n// TODO question. For that we need the httpAdminRoot since\n// TODO the deeplink path is:\n//   http://noderedhost:1880/cfg/#node/f830b7f80c9107ce\n// Node id we can get:\n//    node.id.split(\"-\")[0]\n// the 'cfg' which is the httpAdminRoot is what we need to \n// create a deep link to the node.\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":695,"y":401,"wires":[["b0ca7893e9dedd02"]]},{"id":"b0ca7893e9dedd02","type":"link call","z":"74e1d54a72b1f8cd","name":"","links":["42fa137c805ffa57"],"linkType":"static","timeout":"30","x":822,"y":495,"wires":[["c96043a33cba85e9"]]},{"id":"c96043a33cba85e9","type":"switch","z":"74e1d54a72b1f8cd","name":"","property":"__linkSource","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":796,"y":587,"wires":[["e383141557e2f6a2"]]},{"id":"e383141557e2f6a2","type":"function","z":"74e1d54a72b1f8cd","name":"function 27","func":"let choices = JSON.parse(msg._choices);\n\nlet rAry = Array.from({ length: choices.length }, () => { \n    return undefined \n})\n\nfor ( var idx = 0 ; idx < choices.length; idx++ ) {\n    if ( msg.payload == choices[idx].value ) {\n        delete msg.payload;\n        delete msg.__linkSource;\n        delete msg._choices;\n        \n        rAry[idx] = msg;\n        return rAry;\n    }\n}\n\nreturn rAry.concat([msg]);","outputs":2,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":965,"y":687,"wires":[[],["6b283f3bd4981402"]]},{"id":"6b283f3bd4981402","type":"debug","z":"74e1d54a72b1f8cd","name":"NO CHOICE MATCHED","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1270,"y":784,"wires":[]},{"id":"0c2cdffaad661673","type":"catch","z":"74e1d54a72b1f8cd","name":"","scope":null,"uncaught":false,"x":1050,"y":231,"wires":[["1f6b03e353b95c79"]]},{"id":"1f6b03e353b95c79","type":"debug","z":"74e1d54a72b1f8cd","name":"debug 1","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1357,"y":180,"wires":[]},{"id":"a834ee234dd774a1","type":"subflow","name":"dectree node - multi 2","info":"","category":"decision tree","in":[{"x":203,"y":111,"wires":[{"id":"b0cf62bfc2da327f"}]}],"out":[{"x":872,"y":542,"wires":[{"id":"05afe73cf7614e71","port":0}]},{"x":955,"y":653,"wires":[{"id":"05afe73cf7614e71","port":1}]}],"env":[{"name":"question","type":"str","value":""},{"name":"choice01","type":"str","value":""},{"name":"choice02","type":"str","value":""}],"meta":{},"color":"#3FADB5","icon":"node-red/switch.svg"},{"id":"b0cf62bfc2da327f","type":"function","z":"a834ee234dd774a1","name":"stringify choices","func":"msg.question = env.get(\"question\")\n\nmsg.choices = [\n    {\n        \"value\": \"1\",\n        \"text\": env.get(\"choice01\")\n    },\n    {\n        \"value\": \"2\",\n        \"text\": env.get(\"choice02\")\n    }\n\n]\n\n// avoid escaping problems with the texts by removing them. \n// this string is placed as a data element in a html tag ... encoding\n// is just painful in this case.\nmsg._choices = JSON.stringify(msg.choices.map( d => {\n    return { \"value\": d.value }\n}))\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":434,"y":372,"wires":[["b829684e0b149858"]]},{"id":"b829684e0b149858","type":"link call","z":"a834ee234dd774a1","name":"","links":["42fa137c805ffa57"],"linkType":"static","timeout":"30","x":434,"y":465,"wires":[["1392a550c68b0f16"]]},{"id":"1392a550c68b0f16","type":"switch","z":"a834ee234dd774a1","name":"","property":"__linkSource","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":437,"y":549,"wires":[["05afe73cf7614e71"]]},{"id":"05afe73cf7614e71","type":"function","z":"a834ee234dd774a1","name":"function 27","func":"let choices = JSON.parse(msg._choices);\n\nlet rAry = Array.from({ length: choices.length }, () => { \n    return undefined \n})\n\nfor ( var idx = 0 ; idx < choices.length; idx++ ) {\n    if ( msg.payload == choices[idx].value ) {\n        delete msg.payload;\n        delete msg.__linkSource;\n        delete msg._choices;\n        \n        rAry[idx] = msg;\n        return rAry;\n    }\n}\n\nreturn rAry.concat([msg]);","outputs":3,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":607,"y":657,"wires":[[],[],["67d468cf8c05398e"]]},{"id":"67d468cf8c05398e","type":"debug","z":"a834ee234dd774a1","name":"NO CHOICE MATCHED","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":809,"y":768,"wires":[]},{"id":"dfcb14ccf7d1f047","type":"catch","z":"a834ee234dd774a1","name":"","scope":null,"uncaught":false,"x":624,"y":146,"wires":[[]]},{"id":"af587bc01058b6fd","type":"subflow","name":"dectree node - multi 6","info":"","category":"decision tree","in":[{"x":317,"y":102,"wires":[{"id":"76f99d9a368f07e1"}]}],"out":[{"x":1272,"y":576,"wires":[{"id":"3ed6691bd7f39b03","port":0}]},{"x":1210.5999755859375,"y":615,"wires":[{"id":"3ed6691bd7f39b03","port":1}]},{"x":1273.199951171875,"y":644,"wires":[{"id":"3ed6691bd7f39b03","port":2}]},{"x":1210.5999755859375,"y":678,"wires":[{"id":"3ed6691bd7f39b03","port":3}]},{"x":1274.4000244140625,"y":703,"wires":[{"id":"3ed6691bd7f39b03","port":4}]},{"x":1210.5999755859375,"y":731,"wires":[{"id":"3ed6691bd7f39b03","port":5}]}],"env":[{"name":"question","type":"str","value":""},{"name":"choice01","type":"str","value":""},{"name":"choice02","type":"str","value":""},{"name":"choice03","type":"str","value":""},{"name":"choice04","type":"str","value":""},{"name":"choice05","type":"str","value":""},{"name":"choice06","type":"str","value":""}],"meta":{},"color":"#3FADB5","icon":"node-red/switch.svg"},{"id":"76f99d9a368f07e1","type":"function","z":"af587bc01058b6fd","name":"setup choices and msg","func":"msg.question = env.get( \"question\" )\n\nmsg.choices = [\n    {\n        \"value\": \"1\",\n        \"text\": env.get(\"choice01\")\n    },\n    {\n        \"value\": \"2\",\n        \"text\": env.get(\"choice02\")\n    },\n    {\n        \"value\": \"3\",\n        \"text\": env.get(\"choice03\")\n    },\n    {\n        \"value\": \"4\",\n        \"text\": env.get(\"choice04\")\n    },\n    {\n        \"value\": \"5\",\n        \"text\": env.get(\"choice05\")\n    },\n    {\n        \"value\": \"6\",\n        \"text\": env.get(\"choice06\")\n    }\n]\n\n// avoid escaping problems with the texts by removing them. \n// this string is placed as a data element in a html tag ... encoding\n// is just painful in this case.\nmsg._choices = JSON.stringify(msg.choices.map( d => {\n    return { \"value\": d.value }\n}))\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":578,"y":265,"wires":[["4c15b68d98a0144b"]]},{"id":"4c15b68d98a0144b","type":"link call","z":"af587bc01058b6fd","name":"","links":["42fa137c805ffa57"],"linkType":"static","timeout":"30","x":674,"y":414,"wires":[["2ca38b7247fe194f"]]},{"id":"2ca38b7247fe194f","type":"switch","z":"af587bc01058b6fd","name":"","property":"__linkSource","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":743,"y":569,"wires":[["3ed6691bd7f39b03"]]},{"id":"3ed6691bd7f39b03","type":"function","z":"af587bc01058b6fd","name":"function 27","func":"let choices = JSON.parse(msg._choices);\n\nlet rAry = Array.from({ length: choices.length }, () => { \n    return undefined \n})\n\nfor ( var idx = 0 ; idx < choices.length; idx++ ) {\n    if ( msg.payload == choices[idx].value ) {\n        delete msg.payload;\n        delete msg.__linkSource;\n        delete msg._choices;\n        \n        rAry[idx] = msg;\n        return rAry;\n    }\n}\n\nreturn rAry.concat([msg]);","outputs":7,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":902,"y":724,"wires":[[],[],[],[],[],[],["d1f39a4ee7705a39"]]},{"id":"d1f39a4ee7705a39","type":"debug","z":"af587bc01058b6fd","name":"NO CHOICE MATCHED","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1104,"y":835,"wires":[]},{"id":"af8c58f803eca466","type":"catch","z":"af587bc01058b6fd","name":"","scope":null,"uncaught":false,"x":1003,"y":255,"wires":[[]]},{"id":"6cf8708f9a09860e","type":"subflow","name":"dectree node - multi 4","info":"","category":"decision tree","in":[{"x":238,"y":145,"wires":[{"id":"2eda7d5dcbf01dbe"}]}],"out":[{"x":1154,"y":466,"wires":[{"id":"a18a60e14bbf6ad7","port":0}]},{"x":1214,"y":553,"wires":[{"id":"a18a60e14bbf6ad7","port":1}]},{"x":1273,"y":632,"wires":[{"id":"a18a60e14bbf6ad7","port":2}]},{"x":1252,"y":755,"wires":[{"id":"a18a60e14bbf6ad7","port":3}]}],"env":[{"name":"question","type":"str","value":""},{"name":"choice01","type":"str","value":""},{"name":"choice02","type":"str","value":""},{"name":"choice03","type":"str","value":""},{"name":"choice04","type":"str","value":""}],"meta":{},"color":"#3FADB5","icon":"node-red/switch.svg"},{"id":"854fd0f3ac5d7a91","type":"link call","z":"6cf8708f9a09860e","name":"","links":["42fa137c805ffa57"],"linkType":"static","timeout":"30","x":655,"y":472,"wires":[["4734652f33a73279"]]},{"id":"2eda7d5dcbf01dbe","type":"function","z":"6cf8708f9a09860e","name":"setup msg with question and choices","func":"msg.question = env.get(\"question\")\n\nmsg.choices = [\n    {\n        \"value\": \"1\",\n        \"text\": env.get(\"choice01\")\n    },\n    {\n        \"value\": \"2\",\n        \"text\": env.get(\"choice02\")\n    },\n    {\n        \"value\": \"3\",\n        \"text\": env.get(\"choice03\")\n    },\n    {\n        \"value\": \"4\",\n        \"text\": env.get(\"choice04\")\n    }\n];\n\n// avoid escaping problems with the texts by removing them. \n// this string is placed as a data element in a html tag ... encoding\n// is just painful in this case.\nmsg._choices = JSON.stringify(msg.choices.map( d => {\n    return { \"value\": d.value }\n}))\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":598,"y":354,"wires":[["854fd0f3ac5d7a91"]]},{"id":"4734652f33a73279","type":"switch","z":"6cf8708f9a09860e","name":"","property":"__linkSource","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":706,"y":584,"wires":[["a18a60e14bbf6ad7"]]},{"id":"a18a60e14bbf6ad7","type":"function","z":"6cf8708f9a09860e","name":"function 27","func":"let choices = JSON.parse(msg._choices);\n\nlet rAry = Array.from({ length: choices.length }, () => { \n    return undefined \n})\n\nfor ( var idx = 0 ; idx < choices.length; idx++ ) {\n    if ( msg.payload == choices[idx].value ) {\n        delete msg.payload;\n        delete msg.__linkSource;\n        delete msg._choices;\n        \n        rAry[idx] = msg;\n        return rAry;\n    }\n}\n\nreturn rAry.concat([msg]);","outputs":5,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":836,"y":750,"wires":[[],[],[],[],["04f605795b03a24c"]]},{"id":"04f605795b03a24c","type":"debug","z":"6cf8708f9a09860e","name":"NO CHOICE MATCHED","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1107,"y":883,"wires":[]},{"id":"5df0d3b6c6f34c1a","type":"catch","z":"6cf8708f9a09860e","name":"","scope":null,"uncaught":false,"x":1104,"y":46,"wires":[[]]},{"id":"104818a352e4dbd7","type":"subflow","name":"dectree node - Done/Result.","info":"","category":"decision tree","in":[{"x":198,"y":175,"wires":[{"id":"4adc25c3f4071a67"},{"id":"1f6121378b57e435"}]}],"out":[],"env":[{"name":"result","type":"str","value":""}],"meta":{},"color":"#87A980","icon":"font-awesome/fa-check"},{"id":"4adc25c3f4071a67","type":"change","z":"104818a352e4dbd7","name":"","rules":[{"t":"set","p":"question","pt":"msg","to":"result","tot":"env"}],"action":"","property":"","from":"","to":"","reg":false,"x":421,"y":272,"wires":[["137eec287dc9b928"]]},{"id":"137eec287dc9b928","type":"function","z":"104818a352e4dbd7","name":"define and stringify choices","func":"msg.choices = [\n]\nmsg._choices = JSON.stringify(msg.choices)\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":721,"y":382,"wires":[["d270593519bddf9c"]]},{"id":"d270593519bddf9c","type":"link call","z":"104818a352e4dbd7","name":"","links":["42fa137c805ffa57"],"linkType":"static","timeout":"30","x":1027,"y":534,"wires":[[]]},{"id":"1f6121378b57e435","type":"change","z":"104818a352e4dbd7","name":"","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":461,"y":146,"wires":[["89e90816434341cc"]]},{"id":"89e90816434341cc","type":"link call","z":"104818a352e4dbd7","name":"","links":["cfcd2e897d5c0486"],"linkType":"static","timeout":"30","x":754,"y":98,"wires":[[]]},{"id":"fbfaa81b6a6dfb52","type":"catch","z":"104818a352e4dbd7","name":"","scope":null,"uncaught":false,"x":997,"y":47,"wires":[[]]},{"id":"08e99cbd5f4d9de5","type":"subflow","name":"dectree node - yes/no","info":"","category":"decision tree","in":[{"x":153,"y":137,"wires":[{"id":"546930450ce8938c"}]}],"out":[{"x":1109,"y":559,"wires":[{"id":"9e35b3119e821a39","port":0}]},{"x":1134,"y":655,"wires":[{"id":"9e35b3119e821a39","port":1}]}],"env":[{"name":"question","type":"str","value":""}],"meta":{},"color":"#E2D96E","outputLabels":["Yes","No"],"icon":"font-awesome/fa-question"},{"id":"7b93f6ae1b50b506","type":"link call","z":"08e99cbd5f4d9de5","name":"","links":["42fa137c805ffa57"],"linkType":"static","timeout":"30","x":603,"y":439,"wires":[["28402ef1afc40367"]]},{"id":"23bad6a3d8f3f08b","type":"debug","z":"08e99cbd5f4d9de5","name":"NO CHOICE MATCHED","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1119,"y":905,"wires":[]},{"id":"546930450ce8938c","type":"function","z":"08e99cbd5f4d9de5","name":"define and stringify choices","func":"msg.question = env.get(\"question\")\n\nmsg.choices = [\n    {\n        value: \"1\",\n        text: \"Yes\"\n    },\n    {\n        value: \"2\",\n        text: \"No\"\n    }\n]\nmsg._choices = JSON.stringify(msg.choices)\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":643,"y":329,"wires":[["7b93f6ae1b50b506"]]},{"id":"9e35b3119e821a39","type":"function","z":"08e99cbd5f4d9de5","name":"function 27","func":"let choices = JSON.parse(msg._choices);\n\nlet rAry = Array.from({ length: choices.length }, () => { \n    return undefined \n})\n\nfor ( var idx = 0 ; idx < choices.length; idx++ ) {\n    if ( msg.payload == choices[idx].value ) {\n        delete msg.payload;\n        delete msg.__linkSource;\n        delete msg._choices;\n        \n        rAry[idx] = msg;\n        return rAry;\n    }\n}\n\nreturn rAry.concat([msg]);","outputs":3,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":776,"y":631,"wires":[[],[],["23bad6a3d8f3f08b"]]},{"id":"28402ef1afc40367","type":"switch","z":"08e99cbd5f4d9de5","name":"","property":"__linkSource","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":676,"y":540,"wires":[["9e35b3119e821a39"]]},{"id":"1211ca9a99229556","type":"catch","z":"08e99cbd5f4d9de5","name":"","scope":null,"uncaught":false,"x":926,"y":105,"wires":[[]]},{"id":"e51c499288aa059c","type":"tab","label":"[Decision tree] Which Node-RED extension method should I use?","disabled":false,"info":"::: wip\n\nThis decision tree is not yet completeed and liable to change.\n\n:::\n\n::: aim\n\nCreate a decision tree to aid in the decision of how Node-RED can solve my problem. In this particular case, the question being *Which extension should I use to add functoinality to Node-RED?*\n\n:::\n\n### Description\n\nNode-RED has many forms of extendability, ranging from flows to Javascript code. Which form is the right form can be confusing since there is a certain overlap between the various extensions.\n\nThis flow is an experiment first in creating decision trees in Node-RED and second in actually answering the question: *how can I solve my problems using Node-RED?*\n\nIf your problem happens to be creating a decision tree, this flow is one solution! \n\n**Why is this different?**\n\nDecision trees can be created in most any programming language, decision trees are simply a series of *if a then b* statements, every programming has this technology.\n\n*Understandability*\n\nWhat makes this different in Node-RED is that the decision tree created *looks* like a decision tree: <a class='ahl-node-only' data-ids='d38b15bd49a920cd,7edee354c4d71a9f,3fb2db481cdc6b90,1613c0a28626a21e,69be31496d52b8fd,854c8c5f070a70f1,fa1412682d1ac9be,8fbe733aacf19d32,10fddea0fd8b7aa1,25a4bbef9d4e1182,0e2bb121f29eca6a'>all questions</a> are represented as nodes in the flow. Without going through the questionaire, one can already *understand* the logic behind it, one sees that *logic*.\n\n*Reusability*\n\nAnother feature is that the decision tree is a *program*, in this case the program creates the questionaire shown below. But because this decision tree is a program, i.e. a flow, I can hook the flow up to a automated telephone system (as an example) and have this flow define the steps a caller would go through on the phone and *at the same time* this flow continues to implement the questionaire. Any change to the flow would be reflect in *both* representations of the decision tree.\n\n*Extendability*\n\nOnce explained, a non-programmer can *easily[^1]* understand what is going on and can make a cognitive connection between the questionaire and the program, i.e., flow. This provides the oppurtionity for product owners or stakeholders to change the logic of this questionaire *without* having to involve the developers. However the developers can reference this flow and continue to integrate it into the entire system.\n\nWhat is not shown here is the easy with which this flow is modified, even completely changing the ordering of questions is simply a matter of connecting wires to nodes, lines to squares. What Node-RED is doing is placing focus on the *structure* of the decision tree and not *the code* of the decision tree. The code that does all the magic is *hidden* away - there is still code but it is not the focus. The only way - at the moment - to experience this modificational ease is to install Node-RED and then install this flow using the [FlowHub.org nodes](https://flows.nodered.org/node/@gregoriusrippenstein/node-red-contrib-flowhub).\n\n\n::: requirements\n\n- [NodeDev package](https://flows.nodered.org/node/@gregoriusrippenstein/node-red-contrib-nodedev) for the PkgFile nodes.\n\n:::\n\n### Preview\n\nThe flow creates a dashboard with the questions shown:\n\n![img](https://cdn.openmindmap.org/content/1701186918189_dectreeextension.gif)\n\nThe interesting thing is that looking at the flow, one can already following the decision tree and that shows the versatility of Node-RED - what you build, is what works.\n\nThe questions are <a class='ahl-node-only' data-ids='d38b15bd49a920cd,7edee354c4d71a9f,3fb2db481cdc6b90,1613c0a28626a21e,69be31496d52b8fd,854c8c5f070a70f1,fa1412682d1ac9be,8fbe733aacf19d32,10fddea0fd8b7aa1,25a4bbef9d4e1182,0e2bb121f29eca6a'>yellow, turquois and red</a>, the helpful text blocks are <a class='ahl-node-only' data-ids=\"ef9faeb7ffc7668e,31f65e37f1fe92d6,5df3aba1cac4730c,0b0bf400cc4c2393,6073cf5b5f914691,a2b71f24ef85503b,902fdd9cd18f05d8,fa7431a2d8a755c6,8f7ecd3035532ac3,4b3206d1502504d2,114708fcfc94e087,fb6e7ce737d4b0c4,a62841ebc7ac90c3\">grey</a> and the questionaire comletiong nodes are <a class='ahl-node-only' data-ids=\"c29f1df3a6b3dce5,05769ebd154bdb43,78ffc5b43d407b3e,5507b6d18c9ce484,27aa1a5e47d8ed90,afb3d0f568acb3ae\">green</a>.\n\n### Link lines\n\nThe dashed lines in the flow are \"link lines\", they should the connection between link nodes. These lines are normally not shown in Node-RED and can cause confusion even though link-nodes are there to remove confusion.\n\nLink lines: <a href=\"#\" onclick=\"$('.link-dashed').hide(); return false;\">Hide</a> | <a href=\"#\" onclick=\"$('.link-dashed').show(); return false;\">Show</a>\n\n[^1]: Easily here is in the eye of the beholder, however I would argue that this visual representation is far easier to understand that most textual representation which *also* represent a *working* program, i.e., code.","env":[]},{"id":"6c956af2b71922a1","type":"group","z":"e51c499288aa059c","name":"Dashboard element for displaying the questions and buttons","style":{"label":true},"nodes":["e26a30ff2809e98b","0d73bc93ea491552","42fa137c805ffa57","021a75e9de1c8f9c","03a875dc9fc37e55","99db60304c670cc9"],"x":2039,"y":2438.5001831054688,"w":982.3334655761719,"h":240.83319091796875},{"id":"56847658385cd98e","type":"group","z":"e51c499288aa059c","name":"visualise markdown content in info box","style":{"label":true},"nodes":["d07aa0c3b830ccf1","06a42fdc032c539f","9df58b6177897325","2fdea2c5ae31eb21","53ea3eec68329f5d","0f49e437a7c955a9"],"x":2039,"y":2694,"w":623,"h":275},{"id":"e037ab5e078ec3ec","type":"group","z":"e51c499288aa059c","name":"Ensure subfows are transported \\n with flow even if not used","style":{"label":true},"nodes":["5bfe45a52b14a360","cf82ba4ccf726c96","4a7307396a3313f0","df8bfcedeae84991","395f35d864246444","2cc58903ff784d1b"],"x":1703.5,"y":2438,"w":292,"h":531},{"id":"f9594b1ca0b3b992","type":"group","z":"e51c499288aa059c","name":"NOT COMPLETE","style":{"fill":"#ffbfbf","fill-opacity":"0.41","label":true},"nodes":["afb3d0f568acb3ae","3435a30902c36512","a62841ebc7ac90c3","2822351c6b8f8bdd"],"x":3068.1223603487015,"y":689,"w":371.8776396512985,"h":131},{"id":"0f49e437a7c955a9","type":"group","z":"e51c499288aa059c","g":"56847658385cd98e","name":"entry points","style":{"label":true},"nodes":["605bc2ca67a50994","3242ad96df5ac7da"],"x":2065,"y":2820,"w":83,"h":123},{"id":"2822351c6b8f8bdd","type":"junction","z":"e51c499288aa059c","g":"f9594b1ca0b3b992","x":3094.1223603487015,"y":752.8978873491287,"wires":[["afb3d0f568acb3ae","a62841ebc7ac90c3"]]},{"id":"d44eab2102a8a799","type":"junction","z":"e51c499288aa059c","x":3503.4693896770477,"y":985.7347149848938,"wires":[["902fdd9cd18f05d8","27aa1a5e47d8ed90"]]},{"id":"4d3e42de08e63b9d","type":"junction","z":"e51c499288aa059c","x":3503.4693896770477,"y":856.061231136322,"wires":[["5507b6d18c9ce484","fa7431a2d8a755c6"]]},{"id":"61c7db0b2c377b24","type":"junction","z":"e51c499288aa059c","x":1161,"y":1090,"wires":[["0b0bf400cc4c2393","7edee354c4d71a9f"]]},{"id":"140850b541703058","type":"junction","z":"e51c499288aa059c","x":683,"y":726,"wires":[["4b3206d1502504d2","3fb2db481cdc6b90"]]},{"id":"c6fb3fe676087d15","type":"junction","z":"e51c499288aa059c","x":1158.6938582658768,"y":659.0204086303711,"wires":[["114708fcfc94e087","1613c0a28626a21e"]]},{"id":"210d4047cb5c80c3","type":"junction","z":"e51c499288aa059c","x":1345.857118844986,"y":748.9999860525131,"wires":[["fb6e7ce737d4b0c4","687883311dac410a"]]},{"id":"e26a30ff2809e98b","type":"ui_template","z":"e51c499288aa059c","g":"6c956af2b71922a1","group":"97885fc627878fef","name":"show question","order":26,"width":12,"height":5,"format":"","storeOutMessages":true,"fwdInMessages":false,"resendOnRefresh":true,"templateScope":"local","className":"","x":2613.6666564941406,"y":2479.5001831054688,"wires":[["99db60304c670cc9"]]},{"id":"0d73bc93ea491552","type":"template","z":"e51c499288aa059c","g":"6c956af2b71922a1","name":"","field":"template","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<div style=\"font-size: 130%; font-weight: bold; margin-bottom: 30px; display: flex; justify-content: center;\">\n<span>{{{ question}}}</span>\n</div>\n\n{{#choices}}\n{{#text}}\n<md-button ng-click=\"send({ payload:'{{value}}', __linkSource: '{{__linkSource}}', _choices: '{{ _choices }}' })\">\n    {{text}}\n</md-button>\n{{/text}}\n{{/choices}}","output":"str","x":2437.0001525878906,"y":2479.5001831054688,"wires":[["e26a30ff2809e98b"]]},{"id":"42fa137c805ffa57","type":"link in","z":"e51c499288aa059c","g":"6c956af2b71922a1","name":"decision tree ui","links":[],"x":2080,"y":2539.5000762939453,"wires":[["03a875dc9fc37e55"]]},{"id":"021a75e9de1c8f9c","type":"link out","z":"e51c499288aa059c","g":"6c956af2b71922a1","name":"link out 124","mode":"return","links":[],"x":2980.333465576172,"y":2539.5000762939453,"wires":[]},{"id":"03a875dc9fc37e55","type":"function","z":"e51c499288aa059c","g":"6c956af2b71922a1","name":"prepare copy of link source \\n and htmlify the question","func":"msg.__linkSource = JSON.stringify(msg._linkSource)\n\nmsg.question = msg.question.replaceAll(\"\\\\n\",\"<br>\")\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":2252.6666564941406,"y":2626.3333740234375,"wires":[["0d73bc93ea491552"]]},{"id":"99db60304c670cc9","type":"function","z":"e51c499288aa059c","g":"6c956af2b71922a1","name":"prepare the link source to \\n return to the original link call node","func":"if (msg.__linkSource && msg.payload ) {\n    msg._linkSource = JSON.parse(msg.__linkSource)\n}\n\nif (msg._linkSource) { return msg }\n","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":2806.6666564941406,"y":2626.3333740234375,"wires":[["021a75e9de1c8f9c"]]},{"id":"51621964393c5d99","type":"ui_button","z":"e51c499288aa059c","name":"","group":"97885fc627878fef","order":2,"width":6,"height":1,"passthru":false,"label":"start","tooltip":"","color":"red","bgcolor":"rgb(221, 246, 206)","className":"","icon":"","payload":"","payloadType":"date","topic":"topic","topicType":"msg","x":273,"y":318,"wires":[["83537c84badd2f0e","d38b15bd49a920cd","8f7ecd3035532ac3"]]},{"id":"59e70b48e3ac5385","type":"change","z":"e51c499288aa059c","name":"disable button","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":391,"y":261.5,"wires":[["51621964393c5d99"]]},{"id":"83537c84badd2f0e","type":"delay","z":"e51c499288aa059c","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"allowrate":false,"outputs":1,"x":518,"y":318,"wires":[["59e70b48e3ac5385"]]},{"id":"cfcd2e897d5c0486","type":"link in","z":"e51c499288aa059c","name":"input to start button","links":[],"x":136,"y":386,"wires":[["51621964393c5d99","5bc239bb80c26247"]]},{"id":"5bc239bb80c26247","type":"link out","z":"e51c499288aa059c","name":"link out 125","mode":"return","links":[],"x":224,"y":448,"wires":[]},{"id":"45671ba13d950f7c","type":"inject","z":"e51c499288aa059c","name":"enable button","props":[{"p":"enabled","v":"true","vt":"bool"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":100,"y":316.5,"wires":[["51621964393c5d99"]]},{"id":"d38b15bd49a920cd","type":"subflow:08e99cbd5f4d9de5","z":"e51c499288aa059c","name":"Is Node-RED missing functionality?","env":[{"name":"question","value":"Is Node-RED missing functionality?","type":"str"}],"x":465,"y":610,"wires":[["140850b541703058"],["c29f1df3a6b3dce5"]]},{"id":"c29f1df3a6b3dce5","type":"subflow:104818a352e4dbd7","z":"e51c499288aa059c","name":"OK, then you are done!","env":[{"name":"result","value":"OK, then you are done!","type":"str"}],"x":479,"y":667,"wires":[]},{"id":"7edee354c4d71a9f","type":"subflow:08e99cbd5f4d9de5","z":"e51c499288aa059c","name":"Have you checked flows.nodered.org?","env":[{"name":"question","value":"Have you checked flows.nodered.org?","type":"str"}],"x":1393,"y":1120,"wires":[["25a4bbef9d4e1182","6073cf5b5f914691"],["05769ebd154bdb43"]]},{"id":"d07aa0c3b830ccf1","type":"ui_template","z":"e51c499288aa059c","g":"56847658385cd98e","group":"97885fc627878fef","name":"show info","order":6,"width":16,"height":9,"format":"<div ng-bind-html=\"msg.payload\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","className":"para-margin","x":2388,"y":2850,"wires":[[]]},{"id":"05769ebd154bdb43","type":"subflow:104818a352e4dbd7","z":"e51c499288aa059c","name":"Ok, check flows.nodered.org first","env":[{"name":"result","value":"Ok, check flows.nodered.org first","type":"str"}],"x":1712,"y":1195,"wires":[]},{"id":"06a42fdc032c539f","type":"change","z":"e51c499288aa059c","g":"56847658385cd98e","name":"clear text box","rules":[{"t":"set","p":"payload","pt":"msg","to":"","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":2376,"y":2901,"wires":[["d07aa0c3b830ccf1"]]},{"id":"605bc2ca67a50994","type":"link in","z":"e51c499288aa059c","g":"0f49e437a7c955a9","name":"reset info block","links":["0536aa265d220f9e","a1765e0cd70424e5","b15d13f6fdfef491","b69b9ca33a3f947c"],"x":2106,"y":2902,"wires":[["06a42fdc032c539f"]]},{"id":"9df58b6177897325","type":"function","z":"e51c499288aa059c","g":"56847658385cd98e","name":"MD -> HTML w/ note container","func":"if (msg.payload === undefined || typeof msg.payload !== \"string\") {\n    throw \"Markdown Content Not Found\";\n} \n\nvar md = markdownIt({ \n    html: true, \n    linkify: true, \n    typographer: true,\n    breaks: true,\n    xhtmlOut: false,\n    highlight: function(str, lang) {\n        if ( lang == \"mermaid\") {\n            return '<pre class=\"mermaid-pre-container\"><code class=\"mermaid\">\\n' + md.utils.escapeHtml(str) + '\\n</code></pre>';\n        }\n\n        // this is for javascript and co.\n        if (lang && highlightJs.getLanguage(lang)) {\n            try {\n                return '<pre class=\"hljs\"><code class=\"language-'+ lang + ' hljs\">' +\n                    highlightJs.highlight(str, { language: lang, ignoreIllegals: true }).value +\n                    '</code></pre>';\n            } catch (__) { }\n        }\n\n        // this is for noderedjson-XXXXX\n        return '<pre class=\"language-'+lang+' hljs\"><code class=\"language-'+lang+' hljs\">' + md.utils.escapeHtml(str) + '</code></pre>';\n    }\n});\n\nmd.use(markdownItFootnote);\nmd.use(markdownItMark);\nmd.use(markdownItSup);\nmd.use(markdownItLinkAttributes, {\n    attrs: {\n        target: \"_blank\",\n        rel: \"noopener\",\n    },\n});\n\nmsg.payload = md.render(msg.payload);\n\nreturn msg;\n","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[{"var":"markdownIt","module":"markdown-it"},{"var":"markdownItContainer","module":"markdown-it-container"},{"var":"markdownItFootnote","module":"markdown-it-footnote"},{"var":"markdownItMark","module":"markdown-it-mark"},{"var":"highlightJs","module":"highlight.js"},{"var":"markdownItLinkAttributes","module":"markdown-it-link-attributes"},{"var":"markdownItSup","module":"markdown-it-sup"}],"x":2506,"y":2801,"wires":[["d07aa0c3b830ccf1"]],"icon":"node-red-node-markdown/parser-markdown.png"},{"id":"25a4bbef9d4e1182","type":"subflow:08e99cbd5f4d9de5","z":"e51c499288aa059c","name":"Have you asked on the Node-RED forum?","env":[{"name":"question","value":"Have you asked on the Node-RED forum?","type":"str"}],"x":1780,"y":1087,"wires":[["10fddea0fd8b7aa1","a2b71f24ef85503b"],["78ffc5b43d407b3e"]]},{"id":"78ffc5b43d407b3e","type":"subflow:104818a352e4dbd7","z":"e51c499288aa059c","name":"Ok, ask the forum for help.","env":[{"name":"result","value":"Ok, ask the forum for help.","type":"str"}],"x":2128,"y":1195,"wires":[]},{"id":"e84cbae4e95dcdf3","type":"link out","z":"e51c499288aa059c","name":"link out 129","mode":"link","links":["a7d81acd47232659","3242ad96df5ac7da"],"x":1893,"y":1050.25,"wires":[]},{"id":"e8111ed9553ecdf9","type":"link out","z":"e51c499288aa059c","name":"link out 130","mode":"link","links":["3242ad96df5ac7da"],"x":1488,"y":1080,"wires":[]},{"id":"3242ad96df5ac7da","type":"link in","z":"e51c499288aa059c","g":"0f49e437a7c955a9","name":"show md content","links":["e8111ed9553ecdf9","e84cbae4e95dcdf3","0bc14bd8a852dfa4","4149e843d7e7c18f","0272ec429d75b936","f865415e5ecd2fd0","9f4321011394b44d","3435a30902c36512","6c05c31e5e47397c","80d499d2066c0424","b0e2bb22717c62a8","240d050830b9b619","1a1b605a2f522f9a"],"x":2107,"y":2861,"wires":[["2fdea2c5ae31eb21"]]},{"id":"10fddea0fd8b7aa1","type":"subflow:08e99cbd5f4d9de5","z":"e51c499288aa059c","name":"Is there an existing NPMjs.com package?","env":[{"name":"question","value":"Is there an existing NPMjs.com package?","type":"str"}],"x":2160,"y":981,"wires":[["fa1412682d1ac9be","5df3aba1cac4730c"],["8fbe733aacf19d32","31f65e37f1fe92d6"]]},{"id":"0bc14bd8a852dfa4","type":"link out","z":"e51c499288aa059c","name":"link out 131","mode":"link","links":["a7d81acd47232659","3242ad96df5ac7da"],"x":2187,"y":1037.5,"wires":[]},{"id":"8fbe733aacf19d32","type":"subflow:08e99cbd5f4d9de5","z":"e51c499288aa059c","name":"Do you understand Javascript?","env":[{"name":"question","value":"Do you understand Javascript?","type":"str"}],"x":2526,"y":1025,"wires":[["2822351c6b8f8bdd"],["2822351c6b8f8bdd"]]},{"id":"4149e843d7e7c18f","type":"link out","z":"e51c499288aa059c","name":"link out 133","mode":"link","links":["a7d81acd47232659","3242ad96df5ac7da"],"x":2587,"y":1061,"wires":[]},{"id":"fa1412682d1ac9be","type":"subflow:08e99cbd5f4d9de5","z":"e51c499288aa059c","name":"Do you understand Javascript?","env":[{"name":"question","value":"Do you understand Javascript?","type":"str"}],"x":2523,"y":926,"wires":[["854c8c5f070a70f1","ef9faeb7ffc7668e"],["042027b847036a0c"]]},{"id":"0272ec429d75b936","type":"link out","z":"e51c499288aa059c","name":"link out 134","mode":"link","links":["a7d81acd47232659","3242ad96df5ac7da"],"x":2579,"y":964,"wires":[]},{"id":"5bfe45a52b14a360","type":"subflow:6cf8708f9a09860e","z":"e51c499288aa059c","g":"e037ab5e078ec3ec","name":"","x":1829.5,"y":2510,"wires":[[],[],[],[]]},{"id":"cf82ba4ccf726c96","type":"subflow:af587bc01058b6fd","z":"e51c499288aa059c","g":"e037ab5e078ec3ec","name":"","x":1829.5,"y":2623.6,"wires":[[],[],[],[],[],[]]},{"id":"4a7307396a3313f0","type":"subflow:a834ee234dd774a1","z":"e51c499288aa059c","g":"e037ab5e078ec3ec","name":"","x":1829.5,"y":2722.2,"wires":[[],[]]},{"id":"df8bfcedeae84991","type":"subflow:74e1d54a72b1f8cd","z":"e51c499288aa059c","g":"e037ab5e078ec3ec","name":"","x":1819.5,"y":2790.7999999999997,"wires":[[]]},{"id":"395f35d864246444","type":"subflow:104818a352e4dbd7","z":"e51c499288aa059c","g":"e037ab5e078ec3ec","name":"","x":1849.5,"y":2859.3999999999996,"wires":[]},{"id":"2cc58903ff784d1b","type":"subflow:08e99cbd5f4d9de5","z":"e51c499288aa059c","g":"e037ab5e078ec3ec","name":"","x":1829.5,"y":2928,"wires":[[],[]]},{"id":"854c8c5f070a70f1","type":"subflow:08e99cbd5f4d9de5","z":"e51c499288aa059c","name":"Is the existing package an ESM package?","env":[{"name":"question","value":"Is the existing package an ESM package?","type":"str"}],"x":2860,"y":865,"wires":[["4d3e42de08e63b9d"],["69be31496d52b8fd","b15d13f6fdfef491"]]},{"id":"f865415e5ecd2fd0","type":"link out","z":"e51c499288aa059c","name":"link out 135","mode":"link","links":["a7d81acd47232659","3242ad96df5ac7da"],"x":2921,"y":827,"wires":[]},{"id":"5507b6d18c9ce484","type":"subflow:104818a352e4dbd7","z":"e51c499288aa059c","name":"Then you will need to create a custom node.","env":[{"name":"result","value":"Then you will need to create a custom node.","type":"str"}],"x":3732,"y":882,"wires":[]},{"id":"9f4321011394b44d","type":"link out","z":"e51c499288aa059c","name":"link out 136","mode":"link","links":["a7d81acd47232659","3242ad96df5ac7da"],"x":3812,"y":839,"wires":[]},{"id":"afb3d0f568acb3ae","type":"subflow:104818a352e4dbd7","z":"e51c499288aa059c","g":"f9594b1ca0b3b992","name":"Questionaire is not yet Completed.","env":[{"name":"result","value":"Questionaire is not yet Completed.","type":"str"}],"x":3274,"y":779,"wires":[]},{"id":"3435a30902c36512","type":"link out","z":"e51c499288aa059c","g":"f9594b1ca0b3b992","name":"link out 137","mode":"link","links":["a7d81acd47232659","3242ad96df5ac7da"],"x":3361,"y":730,"wires":[]},{"id":"042027b847036a0c","type":"link out","z":"e51c499288aa059c","name":"link out 138","mode":"link","links":["69067d7fe488f806"],"x":2729,"y":933,"wires":[]},{"id":"69067d7fe488f806","type":"link in","z":"e51c499288aa059c","name":"link in 1","links":["042027b847036a0c"],"x":1539,"y":933.5,"wires":[["78ffc5b43d407b3e","6073cf5b5f914691"]]},{"id":"27aa1a5e47d8ed90","type":"subflow:104818a352e4dbd7","z":"e51c499288aa059c","name":"You can try to test the package using a function node.","env":[{"name":"result","value":"You can try to test the package using a function node.","type":"str"}],"x":3743,"y":1014,"wires":[]},{"id":"6c05c31e5e47397c","type":"link out","z":"e51c499288aa059c","name":"link out 139","mode":"link","links":["a7d81acd47232659","3242ad96df5ac7da"],"x":3809,"y":965.5,"wires":[]},{"id":"902fdd9cd18f05d8","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"create a function node","format":"markdown","syntax":"mustache","template":"## Custom function node\n\nWriting [function nodes](https://nodered.org/docs/user-guide/writing-functions) is also well documented and function nodes allow packages to be included:\n\n![img](https://cdn.openmindmap.org/content/1701083252313_Screen_Shot_2023-11-27_at_12.07.29.png)\n\nIn the `Setup` tab of the function node modules can be defined that are automatically included in the function node. Packages are automatically installed by Node-RED using their `latest` version.\n\nIf you require a specific version, then you will need to create a [custom node](https://nodered.org/docs/creating-nodes/).","output":"str","x":3647,"y":965.5,"wires":[["6c05c31e5e47397c"]]},{"id":"2fdea2c5ae31eb21","type":"switch","z":"e51c499288aa059c","g":"56847658385cd98e","name":"","property":"contents","propertyType":"msg","rules":[{"t":"nnull"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":2222,"y":2795,"wires":[["53ea3eec68329f5d"],["9df58b6177897325"]]},{"id":"53ea3eec68329f5d","type":"change","z":"e51c499288aa059c","g":"56847658385cd98e","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"contents[0].contents","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2323,"y":2735,"wires":[["9df58b6177897325"]]},{"id":"fa7431a2d8a755c6","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"creating custom nodes","format":"markdown","syntax":"mustache","template":"## Custom Nodes\n\nCreating custom nodes in Node-RED is [well documented](https://nodered.org/docs/creating-nodes/).\n\nESM packages are supported using function nodes *but* only if those ESM packages [provide a \"default\"](https://discourse.nodered.org/t/best-practice-custom-v-function-node/83222/16).\n\nWriting [function nodes](https://nodered.org/docs/user-guide/writing-functions) is also well documented and it might be worth a try with a function node first before building a custom node.\n\nCustom nodes allow for the specification of dependencies and their exact version via a [package.json](https://nodered.org/docs/creating-nodes/packaging#packagejson) file.\n\n### User Interface\n\nNode-RED also provides a number of UI [widgets](https://nodered.org/docs/api/ui/) for providing a unified UI across all nodes.","output":"str","x":3664,"y":839,"wires":[["9f4321011394b44d"]]},{"id":"69be31496d52b8fd","type":"subflow:08e99cbd5f4d9de5","z":"e51c499288aa059c","name":"Do you wish to use a specific version of the package?","env":[{"name":"question","value":"Do you wish to use a specific version of the package?","type":"str"}],"x":3242,"y":930,"wires":[["4d3e42de08e63b9d"],["d44eab2102a8a799"]]},{"id":"b15d13f6fdfef491","type":"link out","z":"e51c499288aa059c","name":"link out 140","mode":"link","links":["605bc2ca67a50994","f5234b7d5afb80b8"],"x":3077,"y":889,"wires":[]},{"id":"ef9faeb7ffc7668e","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"ESM Package","format":"markdown","syntax":"mustache","template":"## ESM v. CJS Packages\n\n[ECMAScript modules](https://nodejs.org/api/esm.html#modules-ecmascript-modules) (ESM) are the official standard format to package JavaScript code for reuse. Modules are defined using a variety of import and export statements.\n\n[CommonJS modules](https://nodejs.org/api/modules.html#modules-commonjs-modules) (CJS) are the original way to package JavaScript code for Node.js. Node.js also supports the ECMAScript modules standard used by browsers and other JavaScript runtimes.\n\nESM Packages are only partially supported in Node-RED.\n","output":"str","x":2795,"y":827,"wires":[["f865415e5ecd2fd0"]]},{"id":"a62841ebc7ac90c3","type":"PkgFile","z":"e51c499288aa059c","g":"f9594b1ca0b3b992","name":"","filename":"QED","format":"markdown","syntax":"mustache","template":"## Sorry this questionaire is not complete\n\nCompletion of this questionaire is pending!\n\n","output":"str","x":3189,"y":730,"wires":[["3435a30902c36512"]]},{"id":"31f65e37f1fe92d6","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"js & nodejs","format":"markdown","syntax":"mustache","template":"## Javascript & NodeJS\n\nNode-RED has been created in NodeJS which is a server side version of Javascript. Existing Javascript code can be easily integrated into Node-RED using the *function node*.\n\n","output":"str","x":2464,"y":1061,"wires":[["4149e843d7e7c18f"]]},{"id":"5df3aba1cac4730c","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"js & nodejs","format":"markdown","syntax":"mustache","template":"## Javascript & NodeJS\n\nNode-RED has been created in NodeJS which is a server side version of Javascript. Existing Javascript code can be easily integrated into Node-RED using the *function node*.\n\nEven though Node-RED is largely low-code, an awareness of Javascript is of benefit. Much can be done with Node-RED with a basic understanding of Javascript","output":"str","x":2470,"y":964,"wires":[["0272ec429d75b936"]]},{"id":"0b0bf400cc4c2393","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"flows.nodered.org ","format":"markdown","syntax":"mustache","template":"## Existing extensions\n\n[Flows.nodered.org](https://flows.nodered.org) has a collection of nodes, flows and collections.\n\nMuch has already been done, perhaps there is a solution that will solve your requirements.\n\n### Nodes\n\nFor specific interfaces to devices, checkout the [nodes collection](https://flows.nodered.org/search?type=node). \n\n### Flows\n\nFor more doing specific tasks using Node-RED, perhaps there already exists a [flow](https://flows.nodered.org/search?type=flow).\n\n### Collections\n\nFinally there are collections of Node-RED resources around a specific topic. For example, for [interacting with Home Assistant](https://flows.nodered.org/collection/0R7Vjr77K6fS).\n\n### Cookbooks\n\nThere are also some [howtos](https://cookbook.nodered.org/) in the cookbook.\n\n","output":"str","x":1314,"y":1080,"wires":[["e8111ed9553ecdf9"]]},{"id":"6073cf5b5f914691","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"node-red forum","format":"markdown","syntax":"mustache","template":"## Node-RED Forum\n\nThe Node-RED [forum](https://discourse.nodered.org/) is open to all and every level of experience with Node-RED.\n\nIf you are unsure where to ask, start at the [general](https://discourse.nodered.org/c/general/7) category.\n\nPoliteness is always good!\n\n","output":"str","x":1704,"y":1050.25,"wires":[["e84cbae4e95dcdf3"]]},{"id":"a2b71f24ef85503b","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"npmjs.com","format":"markdown","syntax":"mustache","template":"## npmjs.com\n\n[NPMjs](https://npmjs.com) is the package manager for Javascript and there are many thousands of packages that can easily be integrated into Node-RED.\n\n","output":"str","x":2070,"y":1037.5,"wires":[["0bc14bd8a852dfa4"]]},{"id":"80d499d2066c0424","type":"link out","z":"e51c499288aa059c","name":"link out 141","mode":"link","links":["3242ad96df5ac7da"],"x":522,"y":570,"wires":[]},{"id":"8f7ecd3035532ac3","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"Node-RED","format":"markdown","syntax":"mustache","template":"## Node-RED\n\n> Low-code programming for event-driven applications\n\n[Node-RED](https://nodered.org) is a programming tool for wiring together hardware devices, APIs and online services in new and interesting ways.\n\nIt provides a browser-based editor that makes it easy to wire together flows using the wide range of nodes in the palette that can be deployed to its runtime in a single-click.\n\nNode-RED is extreme extendable in many ways. It depends on what you wish to do, to know what the right extension is. This questionaire will help you do decide between the following possible extensions:\n\n- [Flows](https://nodered.org/docs/developing-flows/flow-structure) are the fundamental extensions to Node-RED, they are the basis for everything. \n- [Subflows](https://nodered.org/docs/user-guide/editor/workspace/subflows) are repetitive actions that can be included into multiple flows providing the same functionality.\n- [Function nodes](https://nodered.org/docs/user-guide/writing-functions) provide Javascript extensibility including using third-party NPM packages.\n- [Custom nodes](https://nodered.org/docs/creating-nodes/) are custom Javascript code that can be [distributed](https://flows.nodered.org/) to other users of Node-RED.","output":"str","x":409,"y":570,"wires":[["80d499d2066c0424"]]},{"id":"4b3206d1502504d2","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"core nodes","format":"markdown","syntax":"mustache","template":"## Core nodes\n\nNode-RED provides a collection of [code nodes](https://nodered.org/docs/user-guide/nodes) which can be connected in wonderfully creative ways to solve even the hardest of difficult problems.\n\nThe core nodes provide functionality for doing many things. Central to their use is to always remember that *the flow of data* is being mapped.\n","output":"str","x":799,"y":669,"wires":[["b0e2bb22717c62a8"]]},{"id":"b0e2bb22717c62a8","type":"link out","z":"e51c499288aa059c","name":"link out 142","mode":"link","links":["3242ad96df5ac7da"],"x":929,"y":669,"wires":[]},{"id":"3fb2db481cdc6b90","type":"subflow:6cf8708f9a09860e","z":"e51c499288aa059c","name":"Do you think it be achieved with existing nodes?","env":[{"name":"question","value":"Do you think it be achieved with existing nodes?","type":"str"},{"name":"choice01","value":"Yes","type":"str"},{"name":"choice02","value":"Not Sure","type":"str"},{"name":"choice03","value":"No","type":"str"}],"x":906,"y":767,"wires":[["210d4047cb5c80c3"],["c6fb3fe676087d15"],["61c7db0b2c377b24"],[]]},{"id":"114708fcfc94e087","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"learning node-red","format":"markdown","syntax":"mustache","template":"## Learning Node-RED\n\nGetting a feel for Node-RED and what it can do is the hardest part. Node-RED takes a completely different approach to development and problem solving than most other applications or programs or platforms.\n\nTo begin with, it can help to read up on [Flow Based Programming](https://jpaulm.github.io/fbp/index.html) (FBP), Node-RED is a *visual* flow based programming environment.\n\nIn a nutshell, imagine data *flowing* along wires (or pipes) being modified by *computational* units called nodes. The lines are are the wires (or pipes) and the squares are the computational units.\n\n![img](https://cdn.openmindmap.org/content/1701182972943_Screen_Shot_2023-11-28_at_15.49.27.png)\n\nThere are various resources available to help:\n\n- [Key concepts](https://nodered.org/docs/user-guide/concepts) of Node-RED\n- Cookbook [howtos](https://cookbook.nodered.org/) for doing the basics\n- [Node-RED forum](https://discourse.nodered.org/) for asking questions\n- The electic [OpenMindMap blog](https://blog.openmindmap.org) which attempts to explain Node-RED\n- [FlowHub.org](https://flowhub.org) that provides many examples for doing many things\n","output":"str","x":1287,"y":636,"wires":[["240d050830b9b619"]]},{"id":"1613c0a28626a21e","type":"subflow:74e1d54a72b1f8cd","z":"e51c499288aa059c","name":"","x":1287,"y":683,"wires":[["140850b541703058"]]},{"id":"240d050830b9b619","type":"link out","z":"e51c499288aa059c","name":"link out 143","mode":"link","links":["3242ad96df5ac7da"],"x":1432,"y":636,"wires":[]},{"id":"927f58f8698ae90f","type":"ui_template","z":"e51c499288aa059c","group":"97885fc627878fef","name":"custom css","order":39,"width":0,"height":0,"format":"<style>\n.para-margin p {\n    margin-top: 20px;\n}\n.para-margin img {\n    border: 1px solid rgb(25, 25, 25);\n    border-radius: 5px;\n}\n.para-margin {\n    border: 1px solid rgb(156, 156, 156);\n    border-radius: 5px;\n}\n.footer {\n    border-top: 1px solid rgb(156, 156, 156);\n    text-align: center;\n}\n</style>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"global","className":"","x":136,"y":1000,"wires":[[]]},{"id":"fb6e7ce737d4b0c4","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"reuse","format":"markdown","syntax":"mustache","template":"## Reuse\n\nNode-RED has a number of possibilities for code reuse, link nodes, subflows, npm packages, flows and nodes.\n\n\n\nWhen using Node-RED core functionality, then the main possibilities for reuse are link nodes and subflows.\n","output":"str","x":1443,"y":733,"wires":[["1a1b605a2f522f9a"]]},{"id":"1a1b605a2f522f9a","type":"link out","z":"e51c499288aa059c","name":"link out 144","mode":"link","links":["3242ad96df5ac7da"],"x":1580,"y":733,"wires":[]},{"id":"2b6fbdb27a928da3","type":"ui_template","z":"e51c499288aa059c","group":"97885fc627878fef","name":"","order":37,"width":14,"height":1,"format":"<div ng-bind-html=\"msg.payload\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","className":"footer","x":126,"y":1059,"wires":[[]]},{"id":"f929b18cd5bd6050","type":"PkgFile","z":"e51c499288aa059c","name":"","filename":"footer","format":"markdown","syntax":"mustache","template":"*Improvements or suggestions? Check out the [original flow](https://flowhub.org/f/e51c499288aa059c) or send [email](mailto:dectree@openmindmap.org).*","output":"str","x":116,"y":1201.5,"wires":[["2f0e20185546364a"]]},{"id":"2f0e20185546364a","type":"change","z":"e51c499288aa059c","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"contents[0].contents","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":146,"y":1154,"wires":[["cb1414e3c7f9b3fe"]]},{"id":"cb1414e3c7f9b3fe","type":"function","z":"e51c499288aa059c","name":"MD -> HTML w/ note container","func":"if (msg.payload === undefined || typeof msg.payload !== \"string\") {\n    throw \"Markdown Content Not Found\";\n} \n\nvar md = markdownIt({ \n    html: true, \n    linkify: true, \n    typographer: true,\n    breaks: true,\n    xhtmlOut: false,\n    highlight: function(str, lang) {\n        if ( lang == \"mermaid\") {\n            return '<pre class=\"mermaid-pre-container\"><code class=\"mermaid\">\\n' + md.utils.escapeHtml(str) + '\\n</code></pre>';\n        }\n\n        // this is for javascript and co.\n        if (lang && highlightJs.getLanguage(lang)) {\n            try {\n                return '<pre class=\"hljs\"><code class=\"language-'+ lang + ' hljs\">' +\n                    highlightJs.highlight(str, { language: lang, ignoreIllegals: true }).value +\n                    '</code></pre>';\n            } catch (__) { }\n        }\n\n        // this is for noderedjson-XXXXX\n        return '<pre class=\"language-'+lang+' hljs\"><code class=\"language-'+lang+' hljs\">' + md.utils.escapeHtml(str) + '</code></pre>';\n    }\n});\n\nmd.use(markdownItFootnote);\nmd.use(markdownItMark);\nmd.use(markdownItSup);\nmd.use(markdownItLinkAttributes, {\n    attrs: {\n        target: \"_blank\",\n        rel: \"noopener\",\n    },\n});\n\nmsg.payload = md.render(msg.payload);\n\nreturn msg;\n","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[{"var":"markdownIt","module":"markdown-it"},{"var":"markdownItContainer","module":"markdown-it-container"},{"var":"markdownItFootnote","module":"markdown-it-footnote"},{"var":"markdownItMark","module":"markdown-it-mark"},{"var":"highlightJs","module":"highlight.js"},{"var":"markdownItLinkAttributes","module":"markdown-it-link-attributes"},{"var":"markdownItSup","module":"markdown-it-sup"}],"x":196,"y":1106.5,"wires":[["2b6fbdb27a928da3"]],"icon":"node-red-node-markdown/parser-markdown.png"},{"id":"6d2e405d0b911c31","type":"inject","z":"e51c499288aa059c","name":"","props":[],"repeat":"","crontab":"","once":true,"onceDelay":"0.5","topic":"","x":116,"y":1249,"wires":[["f929b18cd5bd6050"]]},{"id":"687883311dac410a","type":"subflow:6cf8708f9a09860e","z":"e51c499288aa059c","name":"Shall the functionality be reused?","env":[{"name":"question","value":"Shall the functionality be reused?","type":"str"},{"name":"choice01","value":"Yes","type":"str"},{"name":"choice02","value":"Not Sure","type":"str"},{"name":"choice03","value":"No","type":"str"}],"x":1533,"y":789,"wires":[[],[],[],[]]},{"id":"6c155fc430408bab","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":1,"width":6,"height":1},{"id":"06842cc644dd5201","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":3,"width":6,"height":1},{"id":"7eeefa0248d92972","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":4,"width":18,"height":1},{"id":"aacbb8f74a062f37","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":5,"width":1,"height":1},{"id":"a75f9eaf42a409a0","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":7,"width":1,"height":1},{"id":"73616111b90122a2","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":8,"width":1,"height":1},{"id":"502cc7012ef2a7c6","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":9,"width":1,"height":1},{"id":"a4dacab812c1013f","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":10,"width":1,"height":1},{"id":"f976d81e3fd21355","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":11,"width":1,"height":1},{"id":"a4ee6b05caed741b","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":12,"width":1,"height":1},{"id":"5048af4f9153e32c","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":13,"width":1,"height":1},{"id":"6f1c12a07cfdd306","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":14,"width":1,"height":1},{"id":"92076d2222ab8833","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":15,"width":1,"height":1},{"id":"cbc1a3ded292bec7","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":16,"width":1,"height":1},{"id":"1bbbea11141a76ba","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":17,"width":1,"height":1},{"id":"729d4b9bbb233ae2","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":18,"width":1,"height":1},{"id":"1cdc6e4b84ba99a8","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":19,"width":1,"height":1},{"id":"ce2c9b9f25552247","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":20,"width":1,"height":1},{"id":"da9b21e6d44df4a2","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":21,"width":1,"height":1},{"id":"71fc8e5045ecb072","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":22,"width":1,"height":1},{"id":"c391972487899ed3","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":23,"width":1,"height":1},{"id":"3002d93a02955d5a","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":24,"width":18,"height":1},{"id":"c534179823e4c4f5","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":25,"width":3,"height":1},{"id":"1ead3c23abdb550c","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":27,"width":3,"height":1},{"id":"dc356f6563541241","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":28,"width":3,"height":1},{"id":"364556dca7382062","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":29,"width":3,"height":1},{"id":"08f8525e88a0512b","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":30,"width":3,"height":1},{"id":"a0b9ec9474acba39","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":31,"width":3,"height":1},{"id":"cc281e86ae6cad07","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":32,"width":3,"height":1},{"id":"71d43ae77aaeef23","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":33,"width":3,"height":1},{"id":"9e987c21a8a67015","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":34,"width":3,"height":1},{"id":"36489b8c98e90b34","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":35,"width":3,"height":1},{"id":"5f25b75f1a6f53ee","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":36,"width":2,"height":1},{"id":"97b302a15b5f5303","type":"ui_spacer","z":"e51c499288aa059c","name":"spacer","group":"97885fc627878fef","order":38,"width":2,"height":1},{"id":"97885fc627878fef","type":"ui_group","name":"Extension Selection","tab":"7260db544c0af12f","order":1,"disp":false,"width":"18","collapse":false,"className":""},{"id":"7260db544c0af12f","type":"ui_tab","name":"Extension Selection","icon":"dashboard","disabled":false,"hidden":false}]