[{"id":"f21aed28a04a7fd0","type":"tab","label":"[NodeDev] Example of Json Schema Holistic Validator","disabled":false,"info":"::: aim\n\nProvide examples of using the [JSON Schema Holistic Validator](https://flowhub.org/f/a7a81bcd7159a826)\n\n:::\n\n","env":[]},{"id":"03446b351d684afc","type":"group","z":"f21aed28a04a7fd0","name":"Validate global object","style":{"label":true},"nodes":["62e022983d68c760","33064364f81d1760","3a50e82e36e9db6a","08130f8a829210c2","7e9c9f6807e4d84d","0c0744629fd5ba7d","6bf54b386241dc22","57021e27a8e4d376","c3355db89665f463"],"x":555,"y":782.4999898274741,"w":1288,"h":148.000020345052},{"id":"431a6e063be5a041","type":"group","z":"f21aed28a04a7fd0","name":"Validate flow object","style":{"label":true},"nodes":["d13b572d144c347a","7c49f7915f2a7be5","26f640f94183894f","b98dac021ab9283d","2798f0860e522384","952b9066362474c1","c322d887bf54ec1f","0e6e16a224f59e14","e22703513882e924"],"x":555,"y":588.749994913737,"w":1156,"h":148},{"id":"95cbe732c5e8768a","type":"group","z":"f21aed28a04a7fd0","name":"Validate msg object","style":{"label":true},"nodes":["f52f20830c550361","6f78d32f39ac8f8b","872e6d95f5c29a0a","2962c81629fa2ae6","84698400fdd7b81e","f009328e2d544749","998e7272ec46678d","7fc092fa3249aeea","a41e585a1ffa2787","3c3def750e31d86a"],"x":555,"y":332,"w":970,"h":211},{"id":"9f0f13c9cbf9a8a6","type":"group","z":"f21aed28a04a7fd0","name":"Generate documentation and view it in the info tab of the node","style":{"label":true},"nodes":["551470b20474ea8e"],"x":555,"y":1274,"w":452,"h":82},{"id":"39f145cbf8431f54","type":"group","z":"f21aed28a04a7fd0","name":"schema with refs and enum","style":{"label":true},"nodes":["b801a8a63da1b1c6","800a0c28c604954c","11d6155578bb8f69","c2f4c9bf299340c0","d0803015754fdee1","5eaf53676c7f7bf7","77f1122408d7c9e3","e415a259e4c51a4f"],"x":555,"y":976.2500050862632,"w":1207,"h":252},{"id":"f52f20830c550361","type":"JsonSchemaValidatorWithDocu","z":"f21aed28a04a7fd0","g":"95cbe732c5e8768a","name":"Validate payload property","property":"payload","propertyType":"msg","checkentireobject":false,"func":"{\n    \"title\": \"Person\",\n    \"type\": \"object\",\n    \"required\": [\n        \"lastName\"\n    ],\n    \"properties\": {\n        \"firstName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's first name.\"\n        },\n        \"lastName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's last name.\"\n        },\n        \"age\": {\n            \"description\": \"Age in years which must be equal to or greater than zero.\",\n            \"type\": \"integer\",\n            \"minimum\": 0\n        }\n    }\n}","schematitle":"Person","x":998,"y":374,"wires":[["872e6d95f5c29a0a"]],"info":"## Person Type\n\n`object` ([Person](definition.md))\n\n# Person Properties\n\n| Property                | Type      | Required | Nullable       | Defined by                                                                     |\n| :---------------------- | :-------- | :------- | :------------- | :----------------------------------------------------------------------------- |\n| [firstName](#firstname) | `string`  | Optional | cannot be null | [Person](definition-properties-firstname.md \"undefined#/properties/firstName\") |\n| [lastName](#lastname)   | `string`  | Required | cannot be null | [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")   |\n| [age](#age)             | `integer` | Optional | cannot be null | [Person](definition-properties-age.md \"undefined#/properties/age\")             |\n\n## firstName\n\nThe person's first name.\n\n`firstName`\n\n*   is optional\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-firstname.md \"undefined#/properties/firstName\")\n\n### firstName Type\n\n`string`\n\n## lastName\n\nThe person's last name.\n\n`lastName`\n\n*   is required\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")\n\n### lastName Type\n\n`string`\n\n## age\n\nAge in years which must be equal to or greater than zero.\n\n`age`\n\n*   is optional\n\n*   Type: `integer`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-age.md \"undefined#/properties/age\")\n\n### age Type\n\n`integer`\n\n### age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n\n---\n## firstName Type\n\n`string`\n\n---\n## lastName Type\n\n`string`\n\n---\n## age Type\n\n`integer`\n\n## age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n"},{"id":"6f78d32f39ac8f8b","type":"inject","z":"f21aed28a04a7fd0","g":"95cbe732c5e8768a","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"{\"lastName\":\"lastname\",\"firstName\":\"firstname\",\"something\":\"else\"}","payloadType":"json","x":656,"y":374,"wires":[["f52f20830c550361"]]},{"id":"872e6d95f5c29a0a","type":"debug","z":"f21aed28a04a7fd0","g":"95cbe732c5e8768a","name":"debug 41","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":1338,"y":373,"wires":[]},{"id":"b1c6cabdf126dce9","type":"catch","z":"f21aed28a04a7fd0","name":"","scope":null,"uncaught":true,"x":641,"y":261,"wires":[["76de224d8d942715"]]},{"id":"76de224d8d942715","type":"debug","z":"f21aed28a04a7fd0","name":"THIS EXCEPTION SHOULD NOT BE HERE","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":938,"y":260,"wires":[]},{"id":"2962c81629fa2ae6","type":"JsonSchemaValidatorWithDocu","z":"f21aed28a04a7fd0","g":"95cbe732c5e8768a","name":"Validate entire msg object - INVALID","property":"","propertyType":"msg","checkentireobject":true,"func":"{\n    \"title\": \"Person\",\n    \"type\": \"object\",\n    \"required\": [\n        \"lastName\"\n    ],\n    \"properties\": {\n        \"firstName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's first name.\"\n        },\n        \"lastName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's last name.\"\n        },\n        \"age\": {\n            \"description\": \"Age in years which must be equal to or greater than zero.\",\n            \"type\": \"integer\",\n            \"minimum\": 0\n        }\n    }\n}","schematitle":"Person","x":1035,"y":443,"wires":[[]],"info":"## Person Type\n\n`object` ([Person](definition.md))\n\n# Person Properties\n\n| Property                | Type      | Required | Nullable       | Defined by                                                                     |\n| :---------------------- | :-------- | :------- | :------------- | :----------------------------------------------------------------------------- |\n| [firstName](#firstname) | `string`  | Optional | cannot be null | [Person](definition-properties-firstname.md \"undefined#/properties/firstName\") |\n| [lastName](#lastname)   | `string`  | Required | cannot be null | [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")   |\n| [age](#age)             | `integer` | Optional | cannot be null | [Person](definition-properties-age.md \"undefined#/properties/age\")             |\n\n## firstName\n\nThe person's first name.\n\n`firstName`\n\n*   is optional\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-firstname.md \"undefined#/properties/firstName\")\n\n### firstName Type\n\n`string`\n\n## lastName\n\nThe person's last name.\n\n`lastName`\n\n*   is required\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")\n\n### lastName Type\n\n`string`\n\n## age\n\nAge in years which must be equal to or greater than zero.\n\n`age`\n\n*   is optional\n\n*   Type: `integer`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-age.md \"undefined#/properties/age\")\n\n### age Type\n\n`integer`\n\n### age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n\n---\n## firstName Type\n\n`string`\n\n---\n## lastName Type\n\n`string`\n\n---\n## age Type\n\n`integer`\n\n## age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n"},{"id":"84698400fdd7b81e","type":"inject","z":"f21aed28a04a7fd0","g":"95cbe732c5e8768a","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"{\"lastName\":\"lastname\",\"firstName\":\"firstname\",\"something\":\"else\"}","payloadType":"json","x":653,"y":443,"wires":[["2962c81629fa2ae6"]]},{"id":"f009328e2d544749","type":"JsonSchemaValidatorWithDocu","z":"f21aed28a04a7fd0","g":"95cbe732c5e8768a","name":"Validate entire msg object","property":"","propertyType":"msg","checkentireobject":true,"func":"{\n    \"title\": \"Person\",\n    \"type\": \"object\",\n    \"required\": [\n        \"lastName\"\n    ],\n    \"properties\": {\n        \"firstName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's first name.\"\n        },\n        \"lastName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's last name.\"\n        },\n        \"age\": {\n            \"description\": \"Age in years which must be equal to or greater than zero.\",\n            \"type\": \"integer\",\n            \"minimum\": 0\n        }\n    }\n}","schematitle":"Person","x":993,"y":502,"wires":[["7fc092fa3249aeea"]],"info":"## Person Type\n\n`object` ([Person](definition.md))\n\n# Person Properties\n\n| Property                | Type      | Required | Nullable       | Defined by                                                                     |\n| :---------------------- | :-------- | :------- | :------------- | :----------------------------------------------------------------------------- |\n| [firstName](#firstname) | `string`  | Optional | cannot be null | [Person](definition-properties-firstname.md \"undefined#/properties/firstName\") |\n| [lastName](#lastname)   | `string`  | Required | cannot be null | [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")   |\n| [age](#age)             | `integer` | Optional | cannot be null | [Person](definition-properties-age.md \"undefined#/properties/age\")             |\n\n## firstName\n\nThe person's first name.\n\n`firstName`\n\n*   is optional\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-firstname.md \"undefined#/properties/firstName\")\n\n### firstName Type\n\n`string`\n\n## lastName\n\nThe person's last name.\n\n`lastName`\n\n*   is required\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")\n\n### lastName Type\n\n`string`\n\n## age\n\nAge in years which must be equal to or greater than zero.\n\n`age`\n\n*   is optional\n\n*   Type: `integer`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-age.md \"undefined#/properties/age\")\n\n### age Type\n\n`integer`\n\n### age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n\n---\n## firstName Type\n\n`string`\n\n---\n## lastName Type\n\n`string`\n\n---\n## age Type\n\n`integer`\n\n## age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n"},{"id":"998e7272ec46678d","type":"inject","z":"f21aed28a04a7fd0","g":"95cbe732c5e8768a","name":"","props":[{"p":"lastName","v":"lastName","vt":"str"},{"p":"firstName","v":"firstName","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":651,"y":502,"wires":[["f009328e2d544749"]]},{"id":"7fc092fa3249aeea","type":"debug","z":"f21aed28a04a7fd0","g":"95cbe732c5e8768a","name":"debug 42","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1336,"y":502,"wires":[]},{"id":"d13b572d144c347a","type":"inject","z":"f21aed28a04a7fd0","g":"431a6e063be5a041","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":661,"y":629.749994913737,"wires":[["7c49f7915f2a7be5"]]},{"id":"7c49f7915f2a7be5","type":"change","z":"f21aed28a04a7fd0","g":"431a6e063be5a041","name":"set value in the flow","rules":[{"t":"set","p":"lastName","pt":"flow","to":"lastName","tot":"str"},{"t":"set","p":"firstName","pt":"flow","to":"firstName","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":885,"y":629.749994913737,"wires":[["26f640f94183894f"]]},{"id":"26f640f94183894f","type":"JsonSchemaValidatorWithDocu","z":"f21aed28a04a7fd0","g":"431a6e063be5a041","name":"Validate entire flow object","property":"","propertyType":"flow","checkentireobject":true,"func":"{\n    \"title\": \"Person\",\n    \"type\": \"object\",\n    \"required\": [\n        \"lastName\"\n    ],\n    \"properties\": {\n        \"firstName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's first name.\"\n        },\n        \"lastName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's last name.\"\n        },\n        \"age\": {\n            \"description\": \"Age in years which must be equal to or greater than zero.\",\n            \"type\": \"integer\",\n            \"minimum\": 0\n        }\n    }\n}","schematitle":"Person","x":1148,"y":629.749994913737,"wires":[["b98dac021ab9283d"]],"info":"## Person Type\n\n`object` ([Person](definition.md))\n\n# Person Properties\n\n| Property                | Type      | Required | Nullable       | Defined by                                                                     |\n| :---------------------- | :-------- | :------- | :------------- | :----------------------------------------------------------------------------- |\n| [firstName](#firstname) | `string`  | Optional | cannot be null | [Person](definition-properties-firstname.md \"undefined#/properties/firstName\") |\n| [lastName](#lastname)   | `string`  | Required | cannot be null | [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")   |\n| [age](#age)             | `integer` | Optional | cannot be null | [Person](definition-properties-age.md \"undefined#/properties/age\")             |\n\n## firstName\n\nThe person's first name.\n\n`firstName`\n\n*   is optional\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-firstname.md \"undefined#/properties/firstName\")\n\n### firstName Type\n\n`string`\n\n## lastName\n\nThe person's last name.\n\n`lastName`\n\n*   is required\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")\n\n### lastName Type\n\n`string`\n\n## age\n\nAge in years which must be equal to or greater than zero.\n\n`age`\n\n*   is optional\n\n*   Type: `integer`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-age.md \"undefined#/properties/age\")\n\n### age Type\n\n`integer`\n\n### age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n\n---\n## firstName Type\n\n`string`\n\n---\n## lastName Type\n\n`string`\n\n---\n## age Type\n\n`integer`\n\n## age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n"},{"id":"b98dac021ab9283d","type":"debug","z":"f21aed28a04a7fd0","g":"431a6e063be5a041","name":"debug 43","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1560,"y":629.7500152587892,"wires":[]},{"id":"2798f0860e522384","type":"inject","z":"f21aed28a04a7fd0","g":"431a6e063be5a041","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":666,"y":695.749994913737,"wires":[["952b9066362474c1"]]},{"id":"952b9066362474c1","type":"change","z":"f21aed28a04a7fd0","g":"431a6e063be5a041","name":"delete lastName from flow context","rules":[{"t":"delete","p":"lastName","pt":"flow"},{"t":"set","p":"firstName","pt":"flow","to":"firstName","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":930,"y":695.749994913737,"wires":[["c322d887bf54ec1f"]]},{"id":"c322d887bf54ec1f","type":"JsonSchemaValidatorWithDocu","z":"f21aed28a04a7fd0","g":"431a6e063be5a041","name":"Validate entire flow object - INVALID","property":"","propertyType":"flow","checkentireobject":true,"func":"{\n    \"title\": \"Person\",\n    \"type\": \"object\",\n    \"required\": [\n        \"lastName\"\n    ],\n    \"properties\": {\n        \"firstName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's first name.\"\n        },\n        \"lastName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's last name.\"\n        },\n        \"age\": {\n            \"description\": \"Age in years which must be equal to or greater than zero.\",\n            \"type\": \"integer\",\n            \"minimum\": 0\n        }\n    }\n}","schematitle":"Person","x":1293,"y":695.749994913737,"wires":[[]],"info":"## Person Type\n\n`object` ([Person](definition.md))\n\n# Person Properties\n\n| Property                | Type      | Required | Nullable       | Defined by                                                                     |\n| :---------------------- | :-------- | :------- | :------------- | :----------------------------------------------------------------------------- |\n| [firstName](#firstname) | `string`  | Optional | cannot be null | [Person](definition-properties-firstname.md \"undefined#/properties/firstName\") |\n| [lastName](#lastname)   | `string`  | Required | cannot be null | [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")   |\n| [age](#age)             | `integer` | Optional | cannot be null | [Person](definition-properties-age.md \"undefined#/properties/age\")             |\n\n## firstName\n\nThe person's first name.\n\n`firstName`\n\n*   is optional\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-firstname.md \"undefined#/properties/firstName\")\n\n### firstName Type\n\n`string`\n\n## lastName\n\nThe person's last name.\n\n`lastName`\n\n*   is required\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")\n\n### lastName Type\n\n`string`\n\n## age\n\nAge in years which must be equal to or greater than zero.\n\n`age`\n\n*   is optional\n\n*   Type: `integer`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-age.md \"undefined#/properties/age\")\n\n### age Type\n\n`integer`\n\n### age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n\n---\n## firstName Type\n\n`string`\n\n---\n## lastName Type\n\n`string`\n\n---\n## age Type\n\n`integer`\n\n## age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n"},{"id":"62e022983d68c760","type":"inject","z":"f21aed28a04a7fd0","g":"03446b351d684afc","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":661,"y":823.5000101725261,"wires":[["33064364f81d1760"]]},{"id":"33064364f81d1760","type":"change","z":"f21aed28a04a7fd0","g":"03446b351d684afc","name":"set value in the global context","rules":[{"t":"set","p":"lastName","pt":"global","to":"lastName","tot":"str"},{"t":"set","p":"firstName","pt":"global","to":"firstName","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":915,"y":823.5000101725261,"wires":[["3a50e82e36e9db6a"]]},{"id":"3a50e82e36e9db6a","type":"JsonSchemaValidatorWithDocu","z":"f21aed28a04a7fd0","g":"03446b351d684afc","name":"Validate entire global object","property":"","propertyType":"global","checkentireobject":true,"func":"{\n    \"title\": \"Person\",\n    \"type\": \"object\",\n    \"required\": [\n        \"lastName\"\n    ],\n    \"properties\": {\n        \"firstName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's first name.\"\n        },\n        \"lastName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's last name.\"\n        },\n        \"age\": {\n            \"description\": \"Age in years which must be equal to or greater than zero.\",\n            \"type\": \"integer\",\n            \"minimum\": 0\n        }\n    }\n}","schematitle":"Person","x":1223,"y":823.5000101725261,"wires":[["08130f8a829210c2"]],"info":"## Person Type\n\n`object` ([Person](definition.md))\n\n# Person Properties\n\n| Property                | Type      | Required | Nullable       | Defined by                                                                     |\n| :---------------------- | :-------- | :------- | :------------- | :----------------------------------------------------------------------------- |\n| [firstName](#firstname) | `string`  | Optional | cannot be null | [Person](definition-properties-firstname.md \"undefined#/properties/firstName\") |\n| [lastName](#lastname)   | `string`  | Required | cannot be null | [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")   |\n| [age](#age)             | `integer` | Optional | cannot be null | [Person](definition-properties-age.md \"undefined#/properties/age\")             |\n\n## firstName\n\nThe person's first name.\n\n`firstName`\n\n*   is optional\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-firstname.md \"undefined#/properties/firstName\")\n\n### firstName Type\n\n`string`\n\n## lastName\n\nThe person's last name.\n\n`lastName`\n\n*   is required\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")\n\n### lastName Type\n\n`string`\n\n## age\n\nAge in years which must be equal to or greater than zero.\n\n`age`\n\n*   is optional\n\n*   Type: `integer`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-age.md \"undefined#/properties/age\")\n\n### age Type\n\n`integer`\n\n### age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n\n---\n## firstName Type\n\n`string`\n\n---\n## lastName Type\n\n`string`\n\n---\n## age Type\n\n`integer`\n\n## age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n"},{"id":"08130f8a829210c2","type":"debug","z":"f21aed28a04a7fd0","g":"03446b351d684afc","name":"debug 44","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1704,"y":823.4999898274741,"wires":[]},{"id":"7e9c9f6807e4d84d","type":"inject","z":"f21aed28a04a7fd0","g":"03446b351d684afc","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":666,"y":889.5000101725261,"wires":[["0c0744629fd5ba7d"]]},{"id":"0c0744629fd5ba7d","type":"change","z":"f21aed28a04a7fd0","g":"03446b351d684afc","name":"delete firstName and lastName from global context","rules":[{"t":"delete","p":"lastName","pt":"global"},{"t":"delete","p":"firstName","pt":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":980,"y":889.5000101725261,"wires":[["6bf54b386241dc22"]]},{"id":"6bf54b386241dc22","type":"JsonSchemaValidatorWithDocu","z":"f21aed28a04a7fd0","g":"03446b351d684afc","name":"Validate entire global object - INVALID","property":"","propertyType":"global","checkentireobject":true,"func":"{\n    \"title\": \"Person\",\n    \"type\": \"object\",\n    \"required\": [\n        \"lastName\"\n    ],\n    \"properties\": {\n        \"firstName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's first name.\"\n        },\n        \"lastName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's last name.\"\n        },\n        \"age\": {\n            \"description\": \"Age in years which must be equal to or greater than zero.\",\n            \"type\": \"integer\",\n            \"minimum\": 0\n        }\n    }\n}","schematitle":"Person","x":1418,"y":889.5000101725261,"wires":[[]],"info":"## Person Type\n\n`object` ([Person](definition.md))\n\n# Person Properties\n\n| Property                | Type      | Required | Nullable       | Defined by                                                                     |\n| :---------------------- | :-------- | :------- | :------------- | :----------------------------------------------------------------------------- |\n| [firstName](#firstname) | `string`  | Optional | cannot be null | [Person](definition-properties-firstname.md \"undefined#/properties/firstName\") |\n| [lastName](#lastname)   | `string`  | Required | cannot be null | [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")   |\n| [age](#age)             | `integer` | Optional | cannot be null | [Person](definition-properties-age.md \"undefined#/properties/age\")             |\n\n## firstName\n\nThe person's first name.\n\n`firstName`\n\n*   is optional\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-firstname.md \"undefined#/properties/firstName\")\n\n### firstName Type\n\n`string`\n\n## lastName\n\nThe person's last name.\n\n`lastName`\n\n*   is required\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-lastname.md \"undefined#/properties/lastName\")\n\n### lastName Type\n\n`string`\n\n## age\n\nAge in years which must be equal to or greater than zero.\n\n`age`\n\n*   is optional\n\n*   Type: `integer`\n\n*   cannot be null\n\n*   defined in: [Person](definition-properties-age.md \"undefined#/properties/age\")\n\n### age Type\n\n`integer`\n\n### age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n\n---\n## firstName Type\n\n`string`\n\n---\n## lastName Type\n\n`string`\n\n---\n## age Type\n\n`integer`\n\n## age Constraints\n\n**minimum**: the value of this number must greater than or equal to: `0`\n"},{"id":"551470b20474ea8e","type":"JsonSchemaValidatorWithDocu","z":"f21aed28a04a7fd0","g":"9f0f13c9cbf9a8a6","name":"Generate schema documentation by pressing button","property":"payload","propertyType":"msg","checkentireobject":false,"func":"{\n    \"title\": \"Person\",\n    \"type\": \"object\",\n    \"required\": [\n        \"lastName\"\n    ],\n    \"properties\": {\n        \"firstName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's first name.\"\n        },\n        \"lastName\": {\n            \"type\": \"string\",\n            \"description\": \"The person's last name.\"\n        },\n        \"age\": {\n            \"description\": \"Age in years which must be equal to or greater than zero.\",\n            \"type\": \"integer\",\n            \"minimum\": 0\n        }\n    }\n}","schematitle":"Person","x":781,"y":1315,"wires":[[]]},{"id":"b801a8a63da1b1c6","type":"JsonSchemaValidatorWithDocu","z":"f21aed28a04a7fd0","g":"39f145cbf8431f54","name":"Reference within a schema","property":"","propertyType":"fullmsg","checkentireobject":true,"func":"{\n    \"title\": \"Schema with a reference within the schema.\",\n    \"description\": \"For this to work, this schema requires an $id else the documentation won't be generated.\",\n    \"$id\": \"docid\",\n    \"type\": \"object\",\n    \"required\": [\n        \"value\",\n        \"array_with_item_refs\"\n    ],\n    \"$defs\": {\n        \"itemdef\": {\n            \"type\": \"object\",\n            \"required\": [\n                \"name\",\n                \"enum\"\n            ],\n            \"properties\": {\n                \"name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Name of some value.\"\n                },\n                \"enum\": {\n                    \"type\": \"string\",\n                    \"description\": \"Enumeration of possible values.\",\n                    \"enum\": [\n                        \"text\",\n                        \"utf-8\",\n                        \"html\",\n                        \"javascript\",\n                        \"markdown\",\n                        \"json\",\n                        \"base64\"\n                    ]\n                }\n            }\n        }\n    },\n    \"properties\": {\n        \"value\": {\n            \"type\": \"boolean\",\n            \"description\": \"This is a simple boolean value.\"\n        },\n        \"array_with_item_refs\": {\n            \"type\": \"array\",\n            \"description\": \"Array with a minimum of three entries\",\n            \"minItems\": 3,\n            \"items\": {\n                \"$ref\": \"docid#/$defs/itemdef\"\n            }\n        }\n    }\n}","schematitle":"Schema with a reference within the schema.","x":1176,"y":1058.7500050862632,"wires":[["e415a259e4c51a4f"]],"info":"## Schema with a reference within the schema. Type\n\n`object` ([Schema with a reference within the schema.](definition.md))\n\n# Schema with a reference within the schema. Properties\n\n| Property                                         | Type      | Required | Nullable       | Defined by                                                                                                                           |\n| :----------------------------------------------- | :-------- | :------- | :------------- | :----------------------------------------------------------------------------------------------------------------------------------- |\n| [value](#value)                                  | `boolean` | Required | cannot be null | [Schema with a reference within the schema.](definition-properties-value.md \"docid#/properties/value\")                               |\n| [array\\_with\\_item\\_refs](#array_with_item_refs) | `array`   | Required | cannot be null | [Schema with a reference within the schema.](definition-properties-array_with_item_refs.md \"docid#/properties/array_with_item_refs\") |\n\n## value\n\nThis is a simple boolean value.\n\n`value`\n\n*   is required\n\n*   Type: `boolean`\n\n*   cannot be null\n\n*   defined in: [Schema with a reference within the schema.](definition-properties-value.md \"docid#/properties/value\")\n\n### value Type\n\n`boolean`\n\n## array\\_with\\_item\\_refs\n\nArray with a minimum of three entries\n\n`array_with_item_refs`\n\n*   is required\n\n*   Type: `object[]` ([Details](definition-properties-array_with_item_refs-items.md))\n\n*   cannot be null\n\n*   defined in: [Schema with a reference within the schema.](definition-properties-array_with_item_refs.md \"docid#/properties/array_with_item_refs\")\n\n### array\\_with\\_item\\_refs Type\n\n`object[]` ([Details](definition-properties-array_with_item_refs-items.md))\n\n### array\\_with\\_item\\_refs Constraints\n\n**minimum number of items**: the minimum number of items for this array is: `3`\n\n# Schema with a reference within the schema. Definitions\n\n## Definitions group itemdef\n\nReference this group by using\n\n```json\n{\"$ref\":\"docid#/$defs/itemdef\"}\n```\n\n| Property      | Type     | Required | Nullable       | Defined by                                                                                                                      |\n| :------------ | :------- | :------- | :------------- | :------------------------------------------------------------------------------------------------------------------------------ |\n| [name](#name) | `string` | Required | cannot be null | [Schema with a reference within the schema.](definition-defs-itemdef-properties-name.md \"docid#/$defs/itemdef/properties/name\") |\n| [enum](#enum) | `string` | Required | cannot be null | [Schema with a reference within the schema.](definition-defs-itemdef-properties-enum.md \"docid#/$defs/itemdef/properties/enum\") |\n\n### name\n\nName of some value.\n\n`name`\n\n*   is required\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Schema with a reference within the schema.](definition-defs-itemdef-properties-name.md \"docid#/$defs/itemdef/properties/name\")\n\n#### name Type\n\n`string`\n\n### enum\n\nEnumeration of possible values.\n\n`enum`\n\n*   is required\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Schema with a reference within the schema.](definition-defs-itemdef-properties-enum.md \"docid#/$defs/itemdef/properties/enum\")\n\n#### enum Type\n\n`string`\n\n#### enum Constraints\n\n**enum**: the value of this property must be equal to one of the following values:\n\n| Value          | Explanation |\n| :------------- | :---------- |\n| `\"text\"`       |             |\n| `\"utf-8\"`      |             |\n| `\"html\"`       |             |\n| `\"javascript\"` |             |\n| `\"markdown\"`   |             |\n| `\"json\"`       |             |\n| `\"base64\"`     |             |\n\n---\n## $defs Type\n\nunknown\n\n---\n## items Type\n\n`object` ([Details](definition-defs-itemdef.md))\n\n# items Properties\n\n| Property      | Type     | Required | Nullable       | Defined by                                                                                                                      |\n| :------------ | :------- | :------- | :------------- | :------------------------------------------------------------------------------------------------------------------------------ |\n| [name](#name) | `string` | Required | cannot be null | [Schema with a reference within the schema.](definition-defs-itemdef-properties-name.md \"docid#/$defs/itemdef/properties/name\") |\n| [enum](#enum) | `string` | Required | cannot be null | [Schema with a reference within the schema.](definition-defs-itemdef-properties-enum.md \"docid#/$defs/itemdef/properties/enum\") |\n\n## name\n\nName of some value.\n\n`name`\n\n*   is required\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Schema with a reference within the schema.](definition-defs-itemdef-properties-name.md \"docid#/$defs/itemdef/properties/name\")\n\n### name Type\n\n`string`\n\n## enum\n\nEnumeration of possible values.\n\n`enum`\n\n*   is required\n\n*   Type: `string`\n\n*   cannot be null\n\n*   defined in: [Schema with a reference within the schema.](definition-defs-itemdef-properties-enum.md \"docid#/$defs/itemdef/properties/enum\")\n\n### enum Type\n\n`string`\n\n### enum Constraints\n\n**enum**: the value of this property must be equal to one of the following values:\n\n| Value          | Explanation |\n| :------------- | :---------- |\n| `\"text\"`       |             |\n| `\"utf-8\"`      |             |\n| `\"html\"`       |             |\n| `\"javascript\"` |             |\n| `\"markdown\"`   |             |\n| `\"json\"`       |             |\n| `\"base64\"`     |             |\n\n---\n## name Type\n\n`string`\n\n---\n## enum Type\n\n`string`\n\n## enum Constraints\n\n**enum**: the value of this property must be equal to one of the following values:\n\n| Value          | Explanation |\n| :------------- | :---------- |\n| `\"text\"`       |             |\n| `\"utf-8\"`      |             |\n| `\"html\"`       |             |\n| `\"javascript\"` |             |\n| `\"markdown\"`   |             |\n| `\"json\"`       |             |\n| `\"base64\"`     |             |\n\n---\n## value Type\n\n`boolean`\n\n---\n## array\\_with\\_item\\_refs Type\n\n`object[]` ([Details](definition-defs-itemdef.md))\n\n## array\\_with\\_item\\_refs Constraints\n\n**minimum number of items**: the minimum number of items for this array is: `3`\n"},{"id":"800a0c28c604954c","type":"inject","z":"f21aed28a04a7fd0","g":"39f145cbf8431f54","name":"invalid msg object","props":[],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":691,"y":1058.7500050862632,"wires":[["11d6155578bb8f69"]]},{"id":"11d6155578bb8f69","type":"function","z":"f21aed28a04a7fd0","g":"39f145cbf8431f54","name":"setup msg object","func":"msg.value = \"some string\";\n\nmsg.array_with_item_refs = [\n    {\n        name: \"somer name\",\n        enum: \"some value\"\n    }\n]\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":895,"y":1058.7500050862632,"wires":[["b801a8a63da1b1c6"]]},{"id":"c2f4c9bf299340c0","type":"catch","z":"f21aed28a04a7fd0","g":"39f145cbf8431f54","name":"","scope":["b801a8a63da1b1c6"],"uncaught":false,"x":1260,"y":1019.2500050862632,"wires":[["d0803015754fdee1"]]},{"id":"d0803015754fdee1","type":"debug","z":"f21aed28a04a7fd0","g":"39f145cbf8431f54","name":"should have 3 errors","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"_error","targetType":"msg","statusVal":"","statusType":"auto","x":1616,"y":1017.2500050862632,"wires":[],"info":"1. \"must be boolean\"\n2. \"must NOT have fewer than 3 items\"\n3. \"must be equal to one of the allowed values\""},{"id":"5eaf53676c7f7bf7","type":"inject","z":"f21aed28a04a7fd0","g":"39f145cbf8431f54","name":"valid msg object","props":[],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":688,"y":1187.2500050862632,"wires":[["77f1122408d7c9e3"]]},{"id":"77f1122408d7c9e3","type":"function","z":"f21aed28a04a7fd0","g":"39f145cbf8431f54","name":"setup msg object","func":"msg.value = true;\n\nmsg.array_with_item_refs = [\n    {\n        name: \"somer name\",\n        enum: \"utf-8\"\n    },\n    {\n        name: \"somer name\",\n        enum: \"javascript\"\n    },\n    {\n        name: \"somer name\",\n        enum: \"base64\"\n    },\n]\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":902,"y":1187.2500050862632,"wires":[["b801a8a63da1b1c6"]]},{"id":"e415a259e4c51a4f","type":"debug","z":"f21aed28a04a7fd0","g":"39f145cbf8431f54","name":"debug 45","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1460,"y":1182.2500050862632,"wires":[]},{"id":"a41e585a1ffa2787","type":"catch","z":"f21aed28a04a7fd0","g":"95cbe732c5e8768a","name":"","scope":["2962c81629fa2ae6"],"uncaught":false,"x":1136,"y":418,"wires":[["3c3def750e31d86a"]]},{"id":"3c3def750e31d86a","type":"debug","z":"f21aed28a04a7fd0","g":"95cbe732c5e8768a","name":"should have one error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"_error","targetType":"msg","statusVal":"","statusType":"auto","x":1379,"y":418,"wires":[],"info":"```\n\"must have required property 'lastName'\"\n```"},{"id":"0e6e16a224f59e14","type":"catch","z":"f21aed28a04a7fd0","g":"431a6e063be5a041","name":"","scope":["c322d887bf54ec1f"],"uncaught":false,"x":1319,"y":668.0833282470704,"wires":[["e22703513882e924"]]},{"id":"e22703513882e924","type":"debug","z":"f21aed28a04a7fd0","g":"431a6e063be5a041","name":"should have one error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"_error","targetType":"msg","statusVal":"","statusType":"auto","x":1565,"y":668.0833282470704,"wires":[],"info":"```\n\"must have required property 'lastName'\"\n```"},{"id":"57021e27a8e4d376","type":"catch","z":"f21aed28a04a7fd0","g":"03446b351d684afc","name":"","scope":["6bf54b386241dc22"],"uncaught":false,"x":1487,"y":864.1666768391929,"wires":[["c3355db89665f463"]]},{"id":"c3355db89665f463","type":"debug","z":"f21aed28a04a7fd0","g":"03446b351d684afc","name":"should have one error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"_error","targetType":"msg","statusVal":"","statusType":"auto","x":1697,"y":864.1666768391929,"wires":[],"info":"```\n\"must have required property 'lastName'\"\n```"}]