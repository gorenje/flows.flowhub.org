[{"id":"ee720fe66c056d22","type":"tab","label":"Node-RED Learnings - Traversing an array serially, one by one","disabled":false,"info":"::: aim\n\nShow how to traverse an array one by one and not in parallel/concurrently. To handle array content in parallel, [use split and join](https://flowhub.org/f/1cf772ae2066495e) but how to do it serially?\n\n:::\n\n::: background \n\nSometimes the obvious things are the hardest, I never really thought of how to handle an array of values in serial.\n\nSure, I could do it with a function node an a for loop but how to do it in a Node-RED flow way?\n\nIronically I had to think for a minute I hit upon the solution.\n\n:::\n\n::: explanation\n\nWIP.\n\n:::\n\n","env":[]},{"id":"3055db26f4be8540","type":"group","z":"ee720fe66c056d22","name":"switch node way","style":{"label":true},"nodes":["925a40eb4324c23a","921631a7bfdfe183","841bb10a73c8e33c","d729012168b8792b","df2ca535d935186d"],"x":578,"y":1444,"w":968,"h":388},{"id":"49a4ddc178f93f2e","type":"group","z":"ee720fe66c056d22","name":"the two output function node","style":{"label":true},"nodes":["a30b7df295536e3b","a99f7f0dcc440bae","fe5242212c12fafd","c383eaf07fa6a753","d43479fa457a29d2"],"x":579,"y":1891.1428780555725,"w":968,"h":273.8571219444275},{"id":"d43479fa457a29d2","type":"junction","z":"ee720fe66c056d22","g":"49a4ddc178f93f2e","x":1102.7142663002014,"y":1917.1428780555725,"wires":[["a99f7f0dcc440bae"]]},{"id":"925a40eb4324c23a","type":"inject","z":"ee720fe66c056d22","g":"3055db26f4be8540","name":"","props":[{"p":"payload"},{"p":"sum","v":"0","vt":"num"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"[1,2,3,4,5,6,7,8,9,10]","payloadType":"json","x":714,"y":1568,"wires":[["921631a7bfdfe183"]]},{"id":"921631a7bfdfe183","type":"function","z":"ee720fe66c056d22","g":"3055db26f4be8540","name":"update sum","func":"msg.sum += msg.payload.pop()\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1086,"y":1787,"wires":[["d729012168b8792b","841bb10a73c8e33c"]]},{"id":"841bb10a73c8e33c","type":"switch","z":"ee720fe66c056d22","g":"3055db26f4be8540","name":"payload empty?","property":"payload.length","propertyType":"msg","rules":[{"t":"lte","v":"0","vt":"num"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":1109,"y":1491,"wires":[["df2ca535d935186d"],["921631a7bfdfe183"]]},{"id":"d729012168b8792b","type":"debug","z":"ee720fe66c056d22","g":"3055db26f4be8540","name":"msg counter","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":1430,"y":1791,"wires":[]},{"id":"df2ca535d935186d","type":"debug","z":"ee720fe66c056d22","g":"3055db26f4be8540","name":"sum 1 to 10?","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"sum","targetType":"msg","statusVal":"","statusType":"auto","x":1423,"y":1485,"wires":[]},{"id":"a30b7df295536e3b","type":"inject","z":"ee720fe66c056d22","g":"49a4ddc178f93f2e","name":"","props":[{"p":"payload"},{"p":"sum","v":"0","vt":"num"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"[1,2,3,4,5,6,7,8,9,10]","payloadType":"json","x":715,"y":1943,"wires":[["a99f7f0dcc440bae"]]},{"id":"a99f7f0dcc440bae","type":"function","z":"ee720fe66c056d22","g":"49a4ddc178f93f2e","name":"update sum","func":"msg.sum += msg.payload.pop()\n\nif (msg.payload.length <= 0 ) {\n    return [undefined, msg];\n} else {\n    return [msg, undefined]\n}","outputs":2,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1095,"y":2025,"wires":[["fe5242212c12fafd","d43479fa457a29d2"],["c383eaf07fa6a753"]],"outputLabels":["payload non-empty","done"]},{"id":"fe5242212c12fafd","type":"debug","z":"ee720fe66c056d22","g":"49a4ddc178f93f2e","name":"msg counter","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":1429,"y":1969,"wires":[]},{"id":"c383eaf07fa6a753","type":"debug","z":"ee720fe66c056d22","g":"49a4ddc178f93f2e","name":"sum 1 to 10?","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"sum","targetType":"msg","statusVal":"","statusType":"auto","x":1431,"y":2124,"wires":[]}]