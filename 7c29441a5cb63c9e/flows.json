[{"id":"6cf8708f9a09860e","type":"subflow","name":"dectree node - multi 4","info":"","category":"","in":[{"x":238,"y":145,"wires":[{"id":"2eda7d5dcbf01dbe"}]}],"out":[{"x":1154,"y":466,"wires":[{"id":"a18a60e14bbf6ad7","port":0}]},{"x":1214,"y":553,"wires":[{"id":"a18a60e14bbf6ad7","port":1}]},{"x":1273,"y":632,"wires":[{"id":"a18a60e14bbf6ad7","port":2}]},{"x":1252,"y":755,"wires":[{"id":"a18a60e14bbf6ad7","port":3}]}],"env":[{"name":"question","type":"str","value":""},{"name":"choice01","type":"str","value":""},{"name":"choice02","type":"str","value":""},{"name":"choice03","type":"str","value":""},{"name":"choice04","type":"str","value":""}],"meta":{},"color":"#3FADB5","icon":"node-red/switch.svg"},{"id":"854fd0f3ac5d7a91","type":"link call","z":"6cf8708f9a09860e","name":"","links":["e1d9d448536caedd"],"linkType":"static","timeout":"30","x":655,"y":472,"wires":[["4734652f33a73279"]]},{"id":"2eda7d5dcbf01dbe","type":"function","z":"6cf8708f9a09860e","name":"setup msg with question and choices","func":"msg.question = env.get(\"question\")\n\nmsg.choices = [\n    {\n        \"value\": \"1\",\n        \"text\": env.get(\"choice01\")\n    },\n    {\n        \"value\": \"2\",\n        \"text\": env.get(\"choice02\")\n    },\n    {\n        \"value\": \"3\",\n        \"text\": env.get(\"choice03\")\n    },\n    {\n        \"value\": \"4\",\n        \"text\": env.get(\"choice04\")\n    }\n];\n\n// avoid escaping problems with the texts by removing them. \n// this string is placed as a data element in a html tag ... encoding\n// is just painful in this case.\nmsg._choices = JSON.stringify(msg.choices.map( d => {\n    return { \"value\": d.value }\n}))\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":598,"y":354,"wires":[["854fd0f3ac5d7a91"]]},{"id":"4734652f33a73279","type":"switch","z":"6cf8708f9a09860e","name":"","property":"__linkSource","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":706,"y":584,"wires":[["a18a60e14bbf6ad7"]]},{"id":"a18a60e14bbf6ad7","type":"function","z":"6cf8708f9a09860e","name":"function 27","func":"let choices = JSON.parse(msg._choices);\n\nlet rAry = Array.from({ length: choices.length }, () => { \n    return undefined \n})\n\nfor ( var idx = 0 ; idx < choices.length; idx++ ) {\n    if ( msg.payload == choices[idx].value ) {\n        delete msg.payload;\n        delete msg.__linkSource;\n        delete msg._choices;\n        \n        rAry[idx] = msg;\n        return rAry;\n    }\n}\n\nreturn rAry.concat([msg]);","outputs":5,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":836,"y":750,"wires":[[],[],[],[],["04f605795b03a24c"]]},{"id":"04f605795b03a24c","type":"debug","z":"6cf8708f9a09860e","name":"NO CHOICE MATCHED","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1107,"y":883,"wires":[]},{"id":"5df0d3b6c6f34c1a","type":"catch","z":"6cf8708f9a09860e","name":"","scope":null,"uncaught":false,"x":1104,"y":46,"wires":[[]]},{"id":"af587bc01058b6fd","type":"subflow","name":"dectree node - multi 6","info":"","category":"","in":[{"x":317,"y":102,"wires":[{"id":"76f99d9a368f07e1"}]}],"out":[{"x":1272,"y":576,"wires":[{"id":"3ed6691bd7f39b03","port":0}]},{"x":1210.5999755859375,"y":615,"wires":[{"id":"3ed6691bd7f39b03","port":1}]},{"x":1273.199951171875,"y":644,"wires":[{"id":"3ed6691bd7f39b03","port":2}]},{"x":1210.5999755859375,"y":678,"wires":[{"id":"3ed6691bd7f39b03","port":3}]},{"x":1274.4000244140625,"y":703,"wires":[{"id":"3ed6691bd7f39b03","port":4}]},{"x":1210.5999755859375,"y":731,"wires":[{"id":"3ed6691bd7f39b03","port":5}]}],"env":[{"name":"question","type":"str","value":""},{"name":"choice01","type":"str","value":""},{"name":"choice02","type":"str","value":""},{"name":"choice03","type":"str","value":""},{"name":"choice04","type":"str","value":""},{"name":"choice05","type":"str","value":""},{"name":"choice06","type":"str","value":""}],"meta":{},"color":"#3FADB5","icon":"node-red/switch.svg"},{"id":"76f99d9a368f07e1","type":"function","z":"af587bc01058b6fd","name":"setup choices and msg","func":"msg.question = env.get( \"question\" )\n\nmsg.choices = [\n    {\n        \"value\": \"1\",\n        \"text\": env.get(\"choice01\")\n    },\n    {\n        \"value\": \"2\",\n        \"text\": env.get(\"choice02\")\n    },\n    {\n        \"value\": \"3\",\n        \"text\": env.get(\"choice03\")\n    },\n    {\n        \"value\": \"4\",\n        \"text\": env.get(\"choice04\")\n    },\n    {\n        \"value\": \"5\",\n        \"text\": env.get(\"choice05\")\n    },\n    {\n        \"value\": \"6\",\n        \"text\": env.get(\"choice06\")\n    }\n]\n\n// avoid escaping problems with the texts by removing them. \n// this string is placed as a data element in a html tag ... encoding\n// is just painful in this case.\nmsg._choices = JSON.stringify(msg.choices.map( d => {\n    return { \"value\": d.value }\n}))\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":578,"y":265,"wires":[["4c15b68d98a0144b"]]},{"id":"4c15b68d98a0144b","type":"link call","z":"af587bc01058b6fd","name":"","links":["e1d9d448536caedd"],"linkType":"static","timeout":"30","x":674,"y":414,"wires":[["2ca38b7247fe194f"]]},{"id":"2ca38b7247fe194f","type":"switch","z":"af587bc01058b6fd","name":"","property":"__linkSource","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":743,"y":569,"wires":[["3ed6691bd7f39b03"]]},{"id":"3ed6691bd7f39b03","type":"function","z":"af587bc01058b6fd","name":"function 27","func":"let choices = JSON.parse(msg._choices);\n\nlet rAry = Array.from({ length: choices.length }, () => { \n    return undefined \n})\n\nfor ( var idx = 0 ; idx < choices.length; idx++ ) {\n    if ( msg.payload == choices[idx].value ) {\n        delete msg.payload;\n        delete msg.__linkSource;\n        delete msg._choices;\n        \n        rAry[idx] = msg;\n        return rAry;\n    }\n}\n\nreturn rAry.concat([msg]);","outputs":7,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":902,"y":724,"wires":[[],[],[],[],[],[],["d1f39a4ee7705a39"]]},{"id":"d1f39a4ee7705a39","type":"debug","z":"af587bc01058b6fd","name":"NO CHOICE MATCHED","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1104,"y":835,"wires":[]},{"id":"af8c58f803eca466","type":"catch","z":"af587bc01058b6fd","name":"","scope":null,"uncaught":false,"x":1003,"y":255,"wires":[[]]},{"id":"a834ee234dd774a1","type":"subflow","name":"dectree node - multi 2","info":"","category":"","in":[{"x":203,"y":111,"wires":[{"id":"b0cf62bfc2da327f"}]}],"out":[{"x":872,"y":542,"wires":[{"id":"05afe73cf7614e71","port":0}]},{"x":955,"y":653,"wires":[{"id":"05afe73cf7614e71","port":1}]}],"env":[{"name":"question","type":"str","value":""},{"name":"choice01","type":"str","value":""},{"name":"choice02","type":"str","value":""}],"meta":{},"color":"#3FADB5","icon":"node-red/switch.svg"},{"id":"b0cf62bfc2da327f","type":"function","z":"a834ee234dd774a1","name":"stringify choices","func":"msg.question = env.get(\"question\")\n\nmsg.choices = [\n    {\n        \"value\": \"1\",\n        \"text\": env.get(\"choice01\")\n    },\n    {\n        \"value\": \"2\",\n        \"text\": env.get(\"choice02\")\n    }\n\n]\n\n// avoid escaping problems with the texts by removing them. \n// this string is placed as a data element in a html tag ... encoding\n// is just painful in this case.\nmsg._choices = JSON.stringify(msg.choices.map( d => {\n    return { \"value\": d.value }\n}))\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":434,"y":372,"wires":[["b829684e0b149858"]]},{"id":"b829684e0b149858","type":"link call","z":"a834ee234dd774a1","name":"","links":["e1d9d448536caedd"],"linkType":"static","timeout":"30","x":434,"y":465,"wires":[["1392a550c68b0f16"]]},{"id":"1392a550c68b0f16","type":"switch","z":"a834ee234dd774a1","name":"","property":"__linkSource","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":437,"y":549,"wires":[["05afe73cf7614e71"]]},{"id":"05afe73cf7614e71","type":"function","z":"a834ee234dd774a1","name":"function 27","func":"let choices = JSON.parse(msg._choices);\n\nlet rAry = Array.from({ length: choices.length }, () => { \n    return undefined \n})\n\nfor ( var idx = 0 ; idx < choices.length; idx++ ) {\n    if ( msg.payload == choices[idx].value ) {\n        delete msg.payload;\n        delete msg.__linkSource;\n        delete msg._choices;\n        \n        rAry[idx] = msg;\n        return rAry;\n    }\n}\n\nreturn rAry.concat([msg]);","outputs":3,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":607,"y":657,"wires":[[],[],["67d468cf8c05398e"]]},{"id":"67d468cf8c05398e","type":"debug","z":"a834ee234dd774a1","name":"NO CHOICE MATCHED","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":809,"y":768,"wires":[]},{"id":"dfcb14ccf7d1f047","type":"catch","z":"a834ee234dd774a1","name":"","scope":null,"uncaught":false,"x":624,"y":146,"wires":[[]]},{"id":"74e1d54a72b1f8cd","type":"subflow","name":"dectree node - Ok!","info":"","category":"","in":[{"x":296,"y":250,"wires":[{"id":"4468a471e299714d"}]}],"out":[{"x":1312,"y":677,"wires":[{"id":"e383141557e2f6a2","port":0}]}],"env":[{"name":"question","type":"str","value":""}],"meta":{},"color":"#FFAAAA","outputLabels":["Ok"],"icon":"node-red/alert.svg"},{"id":"4468a471e299714d","type":"function","z":"74e1d54a72b1f8cd","name":"define and stringify choices","func":"msg.question = env.get(\"question\")\n\nmsg.choices = [\n    {\n        value: \"1\",\n        text: \"Ok\"\n    },\n]\nmsg._choices = JSON.stringify(msg.choices)\n\n// TODO create a link to the node that represents this\n// TODO question. For that we need the httpAdminRoot since\n// TODO the deeplink path is:\n//   http://noderedhost:1880/cfg/#node/f830b7f80c9107ce\n// Node id we can get:\n//    node.id.split(\"-\")[0]\n// the 'cfg' which is the httpAdminRoot is what we need to \n// create a deep link to the node.\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":695,"y":401,"wires":[["b0ca7893e9dedd02"]]},{"id":"b0ca7893e9dedd02","type":"link call","z":"74e1d54a72b1f8cd","name":"","links":["e1d9d448536caedd"],"linkType":"static","timeout":"30","x":822,"y":495,"wires":[["c96043a33cba85e9"]]},{"id":"c96043a33cba85e9","type":"switch","z":"74e1d54a72b1f8cd","name":"","property":"__linkSource","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":796,"y":587,"wires":[["e383141557e2f6a2"]]},{"id":"e383141557e2f6a2","type":"function","z":"74e1d54a72b1f8cd","name":"function 27","func":"let choices = JSON.parse(msg._choices);\n\nlet rAry = Array.from({ length: choices.length }, () => { \n    return undefined \n})\n\nfor ( var idx = 0 ; idx < choices.length; idx++ ) {\n    if ( msg.payload == choices[idx].value ) {\n        delete msg.payload;\n        delete msg.__linkSource;\n        delete msg._choices;\n        \n        rAry[idx] = msg;\n        return rAry;\n    }\n}\n\nreturn rAry.concat([msg]);","outputs":2,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":965,"y":687,"wires":[[],["6b283f3bd4981402"]]},{"id":"6b283f3bd4981402","type":"debug","z":"74e1d54a72b1f8cd","name":"NO CHOICE MATCHED","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1270,"y":784,"wires":[]},{"id":"0c2cdffaad661673","type":"catch","z":"74e1d54a72b1f8cd","name":"","scope":null,"uncaught":false,"x":1050,"y":231,"wires":[["1f6b03e353b95c79"]]},{"id":"1f6b03e353b95c79","type":"debug","z":"74e1d54a72b1f8cd","name":"debug 1","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1357,"y":180,"wires":[]},{"id":"104818a352e4dbd7","type":"subflow","name":"dectree node - Done/Result.","info":"","category":"","in":[{"x":198,"y":175,"wires":[{"id":"4adc25c3f4071a67"},{"id":"1f6121378b57e435"}]}],"out":[],"env":[{"name":"result","type":"str","value":""}],"meta":{},"color":"#87A980","icon":"font-awesome/fa-check"},{"id":"4adc25c3f4071a67","type":"change","z":"104818a352e4dbd7","name":"","rules":[{"t":"set","p":"question","pt":"msg","to":"result","tot":"env"}],"action":"","property":"","from":"","to":"","reg":false,"x":421,"y":272,"wires":[["137eec287dc9b928"]]},{"id":"137eec287dc9b928","type":"function","z":"104818a352e4dbd7","name":"define and stringify choices","func":"msg.choices = [\n]\nmsg._choices = JSON.stringify(msg.choices)\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":721,"y":382,"wires":[["d270593519bddf9c"]]},{"id":"d270593519bddf9c","type":"link call","z":"104818a352e4dbd7","name":"","links":["e1d9d448536caedd"],"linkType":"static","timeout":"30","x":1027,"y":534,"wires":[[]]},{"id":"1f6121378b57e435","type":"change","z":"104818a352e4dbd7","name":"","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":461,"y":146,"wires":[["89e90816434341cc"]]},{"id":"89e90816434341cc","type":"link call","z":"104818a352e4dbd7","name":"","links":["2c4a2afee32a4ee1"],"linkType":"static","timeout":"30","x":754,"y":98,"wires":[[]]},{"id":"fbfaa81b6a6dfb52","type":"catch","z":"104818a352e4dbd7","name":"","scope":null,"uncaught":false,"x":997,"y":47,"wires":[[]]},{"id":"08e99cbd5f4d9de5","type":"subflow","name":"dectree node - yes/no","info":"","category":"","in":[{"x":153,"y":137,"wires":[{"id":"546930450ce8938c"}]}],"out":[{"x":1109,"y":559,"wires":[{"id":"9e35b3119e821a39","port":0}]},{"x":1134,"y":655,"wires":[{"id":"9e35b3119e821a39","port":1}]}],"env":[{"name":"question","type":"str","value":""}],"meta":{},"color":"#E2D96E","outputLabels":["Yes","No"],"icon":"font-awesome/fa-question"},{"id":"7b93f6ae1b50b506","type":"link call","z":"08e99cbd5f4d9de5","name":"","links":["e1d9d448536caedd"],"linkType":"static","timeout":"30","x":603,"y":439,"wires":[["28402ef1afc40367"]]},{"id":"23bad6a3d8f3f08b","type":"debug","z":"08e99cbd5f4d9de5","name":"NO CHOICE MATCHED","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1119,"y":905,"wires":[]},{"id":"546930450ce8938c","type":"function","z":"08e99cbd5f4d9de5","name":"define and stringify choices","func":"msg.question = env.get(\"question\")\n\nmsg.choices = [\n    {\n        value: \"1\",\n        text: \"Yes\"\n    },\n    {\n        value: \"2\",\n        text: \"No\"\n    }\n]\nmsg._choices = JSON.stringify(msg.choices)\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":643,"y":329,"wires":[["7b93f6ae1b50b506"]]},{"id":"9e35b3119e821a39","type":"function","z":"08e99cbd5f4d9de5","name":"function 27","func":"let choices = JSON.parse(msg._choices);\n\nlet rAry = Array.from({ length: choices.length }, () => { \n    return undefined \n})\n\nfor ( var idx = 0 ; idx < choices.length; idx++ ) {\n    if ( msg.payload == choices[idx].value ) {\n        delete msg.payload;\n        delete msg.__linkSource;\n        delete msg._choices;\n        \n        rAry[idx] = msg;\n        return rAry;\n    }\n}\n\nreturn rAry.concat([msg]);","outputs":3,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":776,"y":631,"wires":[[],[],["23bad6a3d8f3f08b"]]},{"id":"28402ef1afc40367","type":"switch","z":"08e99cbd5f4d9de5","name":"","property":"__linkSource","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":676,"y":540,"wires":[["9e35b3119e821a39"]]},{"id":"704423fb38114205","type":"catch","z":"08e99cbd5f4d9de5","name":"catch timeout and ignore it","scope":["7b93f6ae1b50b506"],"uncaught":false,"x":642,"y":408,"wires":[[]]},{"id":"1211ca9a99229556","type":"catch","z":"08e99cbd5f4d9de5","name":"","scope":null,"uncaught":false,"x":926,"y":105,"wires":[[]]},{"id":"7c29441a5cb63c9e","type":"tab","label":"[Decision tree] Software acquisition","disabled":false,"info":"### Aim \n\nCreate a decision tree which can be used as part of a flow and also that generates a dashboard questionaire. The intention is to be able to create the decision tree, use it in a flow and interact with it in form from a questionaire - to ensure it represents the correct business logic.\n\n### Description\n\nA representation of the decision process required for the acquisition of technology solution for a problem or feature.\n\nThe starting point is the identification of either a problem (e.g. market share is declining) or a feature requirement (e.g. competition has improved, new features must be introduced). There is much nuanced grey inbetween problems and features. \n\nWhatever: change must be made but the question is how to make that change?\n\nWhat follows is fake introspective process within a fake company which decides how to implement the necessary change to fulfil the needs of the initial change-request.\n\nThis is not be taken seriously, the point is to demonstrate the technical solution not the correctness of the decision tree.\n\n### Preview\n\n![img](https://cdn.openmindmap.org/content/1699697813392_decisiontree3.gif)\n\n### Requirements\n\n- [node red dashboard](https://flows.nodered.org/node/node-red-dashboard)\n\n### Technical details\n\nWhat is not shown are the subflows that support this flow:\n\n- yes/no button\n- ok button\n- 6 possible multi choice\n- 4 possible multi choice\n- 2 possible multi choice\n- done conclusion node\n\nthese use the <a class=\"ahl-group-only\" data-ids=\"c5d82442c67a3bc3\">dashboard element</a> to display their content - there is only one dashboard element that is reused.\n\nA hack is the storing of the original `_linkSource` to come back the correct link-call node once a choice has been made.\n\n","env":[]},{"id":"c5d82442c67a3bc3","type":"group","z":"7c29441a5cb63c9e","name":"Dashboard element for displaying the questions and buttons","style":{"label":true},"nodes":["4db3f81ea5a43e7f","9a63be734cb7789f","e1d9d448536caedd","0b79cf4294cb842d","08687838c7841f2c","d9f5a999d20fb3f8"],"x":83.50003051757812,"y":1783.5001831054688,"w":982.3334655761719,"h":240.83319091796875},{"id":"8b9942ece493d950","type":"junction","z":"7c29441a5cb63c9e","x":3270.787253022194,"y":1319.6114315986633,"wires":[["a35f6486fdb15c79"]]},{"id":"4db3f81ea5a43e7f","type":"ui_template","z":"7c29441a5cb63c9e","g":"c5d82442c67a3bc3","group":"5969507696e2dcc0","name":"","order":6,"width":12,"height":7,"format":"","storeOutMessages":true,"fwdInMessages":false,"resendOnRefresh":true,"templateScope":"local","className":"","x":638.1666870117188,"y":1824.5001831054688,"wires":[["d9f5a999d20fb3f8"]]},{"id":"9a63be734cb7789f","type":"template","z":"7c29441a5cb63c9e","g":"c5d82442c67a3bc3","name":"","field":"template","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<div style=\"font-size: 130%; font-weight: bold; margin-bottom: 30px; display: flex; justify-content: center;\">\n<span>{{{ question}}}</span>\n</div>\n\n{{#choices}}\n{{#text}}\n<md-button ng-click=\"send({ payload:'{{value}}', __linkSource: '{{__linkSource}}', _choices: '{{ _choices }}' })\">\n    {{text}}\n</md-button>\n{{/text}}\n{{/choices}}","output":"str","x":481.50018310546875,"y":1824.5001831054688,"wires":[["4db3f81ea5a43e7f"]]},{"id":"e1d9d448536caedd","type":"link in","z":"7c29441a5cb63c9e","g":"c5d82442c67a3bc3","name":"decision tree ui","links":[],"x":124.50003051757812,"y":1884.5000762939453,"wires":[["08687838c7841f2c"]]},{"id":"0b79cf4294cb842d","type":"link out","z":"7c29441a5cb63c9e","g":"c5d82442c67a3bc3","name":"link out 124","mode":"return","links":[],"x":1024.83349609375,"y":1884.5000762939453,"wires":[]},{"id":"08687838c7841f2c","type":"function","z":"7c29441a5cb63c9e","g":"c5d82442c67a3bc3","name":"prepare copy of link source \\n and htmlify the question","func":"msg.__linkSource = JSON.stringify(msg._linkSource)\n\nmsg.question = msg.question.replaceAll(\"\\\\n\",\"<br>\")\n\nreturn msg;","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":297.16668701171875,"y":1971.3333740234375,"wires":[["9a63be734cb7789f"]]},{"id":"d9f5a999d20fb3f8","type":"function","z":"7c29441a5cb63c9e","g":"c5d82442c67a3bc3","name":"prepare the link source to \\n return to the original link call node","func":"if (msg.__linkSource && msg.payload ) {\n    msg._linkSource = JSON.parse(msg.__linkSource)\n}\n\nif (msg._linkSource) { return msg }\n","outputs":1,"timeout":"","noerr":0,"initialize":"","finalize":"","libs":[],"x":851.1666870117188,"y":1971.3333740234375,"wires":[["0b79cf4294cb842d"]]},{"id":"7c13f547012c9db3","type":"ui_button","z":"7c29441a5cb63c9e","name":"","group":"5969507696e2dcc0","order":2,"width":8,"height":2,"passthru":false,"label":"start / restart","tooltip":"","color":"","bgcolor":"","className":"","icon":"","payload":"","payloadType":"date","topic":"topic","topicType":"msg","x":256,"y":886,"wires":[["f830b7f80c9107ce","071e41ec383ee42c"]]},{"id":"717cb3c29de5f1ce","type":"subflow:08e99cbd5f4d9de5","z":"7c29441a5cb63c9e","name":"Can Tech solve it?","env":[{"name":"question","value":"Can Tech solve it?","type":"str"}],"x":875,"y":1268,"wires":[["e4212a2a3d4d9235"],["cb36c1139316be3c"]]},{"id":"e4212a2a3d4d9235","type":"subflow:08e99cbd5f4d9de5","z":"7c29441a5cb63c9e","name":"Is there tech available \\n that could solve \\n the problem?","env":[{"name":"question","value":"Is there tech available \\n that could solve \\n the problem?","type":"str"}],"x":1216.333251953125,"y":1075,"wires":[["34f5d4d247e23894"],["cb36c1139316be3c"]]},{"id":"cb36c1139316be3c","type":"subflow:08e99cbd5f4d9de5","z":"7c29441a5cb63c9e","name":"Can we build tech \\n to solve it anyway?","env":[{"name":"question","value":"Can we build tech \\n to solve it anyway?","type":"str"}],"x":2349,"y":1271,"wires":[["3e726e3cb478cc01"],["51603b77c193e30a"]]},{"id":"c89fa9dafcea7105","type":"subflow:08e99cbd5f4d9de5","z":"7c29441a5cb63c9e","name":"Does the project have priority?","env":[{"name":"question","value":"Does the project have priority?","type":"str"}],"x":2720.000244140625,"y":885,"wires":[["95087e0b0e4c524e"],["8b9942ece493d950"]]},{"id":"262aa64d631c1c46","type":"subflow:104818a352e4dbd7","z":"7c29441a5cb63c9e","name":"Solve this problem first. QED.","env":[{"name":"result","value":"Solve this problem first. QED.","type":"str"}],"x":2712.33349609375,"y":808,"wires":[]},{"id":"b8fd1e0c3708bd2c","type":"subflow:74e1d54a72b1f8cd","z":"7c29441a5cb63c9e","name":"Create cost comparison","env":[{"name":"question","value":"Create cost comparison","type":"str"}],"x":4342.33349609375,"y":615,"wires":[["877edb1567045bd3"]]},{"id":"877edb1567045bd3","type":"subflow:104818a352e4dbd7","z":"7c29441a5cb63c9e","name":"Sign Contract with cheapest. QED","env":[{"name":"result","value":"Sign Contract with cheapest. QED","type":"str"}],"x":4667.33349609375,"y":783,"wires":[]},{"id":"f830b7f80c9107ce","type":"subflow:74e1d54a72b1f8cd","z":"7c29441a5cb63c9e","name":"You have a problem or feature!","env":[{"name":"question","value":"You have a problem or feature!","type":"str"}],"x":562,"y":1057,"wires":[["717cb3c29de5f1ce"]]},{"id":"a0f3ae05f7107365","type":"subflow:08e99cbd5f4d9de5","z":"7c29441a5cb63c9e","name":"Is there support?","env":[{"name":"question","value":"Is there support?","type":"str"}],"x":1895.6666259765625,"y":800.0001220703125,"wires":[["b8fd1e0c3708bd2c"],["55791c0c8c8c3127"]]},{"id":"68e20489fae357c3","type":"subflow:08e99cbd5f4d9de5","z":"7c29441a5cb63c9e","name":"Is there support?","env":[{"name":"question","value":"Is there support?","type":"str"}],"x":1895.6666259765625,"y":754.3333740234375,"wires":[["b8fd1e0c3708bd2c"],["55791c0c8c8c3127"]]},{"id":"59806e682214a630","type":"subflow:08e99cbd5f4d9de5","z":"7c29441a5cb63c9e","name":"Risk: vendor lock in? \\n Future costs unclear?","env":[{"name":"question","value":"Risk: vendor lock in? \\n Future costs unclear?","type":"str"}],"x":1895.6666259765625,"y":578.9999389648438,"wires":[["3592720fb23487ac"],["b8fd1e0c3708bd2c"]]},{"id":"3592720fb23487ac","type":"subflow:08e99cbd5f4d9de5","z":"7c29441a5cb63c9e","name":"Is there alternative \\n off-the-shelf solution?","env":[{"name":"question","value":"Is there alternative \\n off-the-shelf solution?","type":"str"}],"x":1895.6666259765625,"y":686.0000610351562,"wires":[["59806e682214a630"],["cb36c1139316be3c"]]},{"id":"a35f6486fdb15c79","type":"subflow:104818a352e4dbd7","z":"7c29441a5cb63c9e","name":"Solution requires external consultants. QED.","env":[{"name":"result","value":"Solution requires external consultants. QED.","type":"str"}],"x":4567,"y":1304,"wires":[]},{"id":"51603b77c193e30a","type":"subflow:08e99cbd5f4d9de5","z":"7c29441a5cb63c9e","name":"Can we throw money at \\n it and it will go away?","env":[{"name":"question","value":"Can we throw money at \\n it and it will go away?","type":"str"}],"x":2644,"y":1310,"wires":[["66f2a9297329cb17"],["8b9942ece493d950"]]},{"id":"3e726e3cb478cc01","type":"subflow:74e1d54a72b1f8cd","z":"7c29441a5cb63c9e","name":"Compute the requirements.","env":[{"name":"question","value":"Compute the requirements.","type":"str"}],"x":2649,"y":1188,"wires":[["125ed836b4fbdcd8"]]},{"id":"66f2a9297329cb17","type":"subflow:104818a352e4dbd7","z":"7c29441a5cb63c9e","name":"Increase spending. QED.","env":[{"name":"result","value":"Increase spending. QED.","type":"str"}],"x":2929,"y":1247,"wires":[]},{"id":"125ed836b4fbdcd8","type":"subflow:a834ee234dd774a1","z":"7c29441a5cb63c9e","name":"Resources come from?","env":[{"name":"question","value":"Resources come from?","type":"str"},{"name":"choice01","value":"inhouse","type":"str"},{"name":"choice02","value":"external","type":"str"}],"x":2960,"y":1031,"wires":[["4db7f115dfd26fa5"],["5a40dfe94b10c3b6"]]},{"id":"4db7f115dfd26fa5","type":"subflow:a834ee234dd774a1","z":"7c29441a5cb63c9e","name":"Inhouse: How much effort?","env":[{"name":"question","value":"Inhouse: How much effort?","type":"str"},{"name":"choice01","value":"Ok","type":"str"},{"name":"choice02","value":"Too Much","type":"str"}],"x":3203,"y":945,"wires":[["4c5c3df10a08527c"],["5a40dfe94b10c3b6"]]},{"id":"4c5c3df10a08527c","type":"subflow:104818a352e4dbd7","z":"7c29441a5cb63c9e","name":"Build solution. QED.","env":[{"name":"result","value":"Build solution. QED.","type":"str"}],"x":3510,"y":883,"wires":[]},{"id":"34f5d4d247e23894","type":"subflow:af587bc01058b6fd","z":"7c29441a5cb63c9e","name":"Is there an off-the-shelf solution","env":[{"name":"question","value":"Is there an off-the-shelf solution","type":"str"},{"name":"choice01","value":"yes - SaaS","type":"str"},{"name":"choice02","value":"yes - Subscription","type":"str"},{"name":"choice03","value":"yes - One-Off Charge","type":"str"},{"name":"choice04","value":"yes - Open Source Software","type":"str"},{"name":"choice05","value":"no","type":"str"}],"x":1511,"y":872,"wires":[["59806e682214a630"],["68e20489fae357c3"],["a0f3ae05f7107365"],["55791c0c8c8c3127"],["cb36c1139316be3c"],[]]},{"id":"55791c0c8c8c3127","type":"subflow:6cf8708f9a09860e","z":"7c29441a5cb63c9e","name":"What happens if it breaks?","env":[{"name":"question","value":"What happens if it breaks?","type":"str"},{"name":"choice01","value":"no idea","type":"str"},{"name":"choice02","value":"external developers","type":"str"},{"name":"choice03","value":"inhouse developers","type":"str"},{"name":"choice04","value":"it won't break","type":"str"}],"x":2371,"y":877,"wires":[["262aa64d631c1c46"],["b8fd1e0c3708bd2c"],["c89fa9dafcea7105"],["8b9942ece493d950"]]},{"id":"95087e0b0e4c524e","type":"subflow:6cf8708f9a09860e","z":"7c29441a5cb63c9e","name":"Why does project have priority?","env":[{"name":"question","value":"Why does project have priority?","type":"str"},{"name":"choice01","value":"Boss said so","type":"str"},{"name":"choice02","value":"Competition has similiar solution","type":"str"},{"name":"choice03","value":"It was always a dream of mine","type":"str"},{"name":"choice04","value":"no idea","type":"str"}],"x":3112,"y":878,"wires":[["8b9942ece493d950"],["8b9942ece493d950"],["8b9942ece493d950"],["8b9942ece493d950"]]},{"id":"5a40dfe94b10c3b6","type":"subflow:a834ee234dd774a1","z":"7c29441a5cb63c9e","name":"External: How \\n much effort?","env":[{"name":"question","value":"External: How \\n much effort?","type":"str"},{"name":"choice01","value":"Ok","type":"str"},{"name":"choice02","value":"too much","type":"str"}],"x":3451,"y":1036,"wires":[["65c5e1e0a617e5ff"],["8b9942ece493d950"]]},{"id":"65c5e1e0a617e5ff","type":"subflow:08e99cbd5f4d9de5","z":"7c29441a5cb63c9e","name":"Do we have inhouse managers \\n for external resources?","env":[{"name":"question","value":"Do we have inhouse managers \\n for external resources?","type":"str"}],"x":3722,"y":997,"wires":[["b8fd1e0c3708bd2c"],["69b357165cda1801"]]},{"id":"69b357165cda1801","type":"subflow:08e99cbd5f4d9de5","z":"7c29441a5cb63c9e","name":"Can we hire external managers \\n for our external resources?","env":[{"name":"question","value":"Can we hire external managers \\n for our external resources?","type":"str"}],"x":4097,"y":1139,"wires":[["b8fd1e0c3708bd2c"],["a35f6486fdb15c79"]]},{"id":"a8715f06a1e483b2","type":"change","z":"7c29441a5cb63c9e","name":"","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":365,"y":757,"wires":[["7c13f547012c9db3"]]},{"id":"071e41ec383ee42c","type":"delay","z":"7c29441a5cb63c9e","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"allowrate":false,"outputs":1,"x":481,"y":886,"wires":[["a8715f06a1e483b2"]]},{"id":"2c4a2afee32a4ee1","type":"link in","z":"7c29441a5cb63c9e","name":"input to start button","links":[],"x":99,"y":954,"wires":[["7c13f547012c9db3","a8e3276f25145396"]]},{"id":"a8e3276f25145396","type":"link out","z":"7c29441a5cb63c9e","name":"link out 125","mode":"return","links":[],"x":187,"y":1016,"wires":[]},{"id":"eb413efd1044a179","type":"inject","z":"7c29441a5cb63c9e","name":"enable button","props":[{"p":"enabled","v":"true","vt":"bool"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":144,"y":1100,"wires":[["7c13f547012c9db3"]]},{"id":"0ab2da059a969d68","type":"ui_spacer","z":"7c29441a5cb63c9e","name":"spacer","group":"5969507696e2dcc0","order":1,"width":2,"height":1},{"id":"be82fe51a934016b","type":"ui_spacer","z":"7c29441a5cb63c9e","name":"spacer","group":"5969507696e2dcc0","order":3,"width":2,"height":1},{"id":"72c254a4e46bc0ac","type":"ui_spacer","z":"7c29441a5cb63c9e","name":"spacer","group":"5969507696e2dcc0","order":4,"width":2,"height":1},{"id":"0f4153119bfe75fd","type":"ui_spacer","z":"7c29441a5cb63c9e","name":"spacer","group":"5969507696e2dcc0","order":5,"width":2,"height":1},{"id":"5969507696e2dcc0","type":"ui_group","name":"Decision Tree","tab":"61b01cec8f0d1158","order":1,"disp":false,"width":"12","collapse":false,"className":""},{"id":"61b01cec8f0d1158","type":"ui_tab","name":"Software acquisition Decision Tree","icon":"dashboard","disabled":false,"hidden":false}]