[{"id":"baaaaa02ec51bdba","type":"tab","label":"Node-RED Learnings - Boolean logic","disabled":false,"info":"::: aim \n\nDemonstrate the correct implementation of boolean logic.\n\n:::\n\n::: background\n\nStrangely this continues to occur to me: boolean 'OR' are two switch in *parallel*. This is demonstrated by the <a class=\"ahl-group-only\" data-ids=\"fe7319ecfe6de7ec\">first group</a> - which works fine except for one case: both flags are true.\n\nWhat happens is that the <a class=\"ahl-node-only\" data-ids=\"a6ac25837fdca8e0\">debug node</a> will receive two messages, shown by the 2 in the image:\n\n![img](https://cdn.openmindmap.org/content/1696584313642_Screen_Shot_2023-10-06_at_11.24.48.png)\n\nThis happens because the Node-RED clones messages for each wire, hence the <a class=\"ahl-node-only\" data-ids=\"b4aa6e6d91a155b0\">change node</a> in having <a class=\"ahl-link-node first-to-all\" data-ids=\"b4aa6e6d91a155b0,3efb77788866d18d,226bc160e5dc3289\">two wires</a> duplicates the message and both messages go through to the debug node.\n\n:::\n\n","env":[]},{"id":"fe7319ecfe6de7ec","type":"group","z":"baaaaa02ec51bdba","name":"Boolean 'OR' with logical error","style":{"label":true},"nodes":["3efb77788866d18d","226bc160e5dc3289","a6ac25837fdca8e0","736be50597851b91","31213757b14d21bb","5b68f3d8cdf57bdb","fb35aa7c5f034a4c","8960e1dd0f83a302","e728bb859f4618c2","8e1bf0803e5d97be","dacace538b12acd2","96c5de5f8f7e3711","b4aa6e6d91a155b0","37e5193b1d508f0c","e4af7a806abcf074","c1671e636c51ac0a"],"x":1902.3333282470703,"y":113.333335240682,"w":842,"h":486},{"id":"28af2e39788a8dcd","type":"group","z":"baaaaa02ec51bdba","name":"Boolean 'OR' logically correct","style":{"label":true},"nodes":["414a2e97372f2977","1ba0e36f5c0629ba","ae301a86f5159da6","400862e2e112c630","61c97f4dbae20d91","17ea63f516ebb3b5","ce1e578ae9c2be3d","c14fd51f1388a813","a6a94529342c8777","0edbd404b69c1f0b","ced8d28704892075","6b465b000842124a","ac4963626284a345","700dfab7fb1312d6","11f93608da478336","9bcd2d462a2fe621"],"x":1902.3333282470703,"y":661.3333352406821,"w":842,"h":496},{"id":"ccce9dd2badfeb40","type":"group","z":"baaaaa02ec51bdba","name":"Boolean 'AND' logically correct","style":{"label":true},"nodes":["76cb6287e1d9a54c","102ec766d008ddd8","9ca64cfec7326094","a23a7b4e2649be8f","dcf25d7708b21c20","6062aa4d832970fe","1c65dbc7cd1e1ab0","0d9021eb4ff8ac8e","5b11c83d04655d74","01a54a29cc687945","17b6cc19705ddbd4","c79b852ed7990e02","ba27b811d2016550","e6feb717fac6d0e8","46896d00ae724cd5","10775afe03c1ec17"],"x":1902.3333282470703,"y":1219.3333352406821,"w":842,"h":481},{"id":"175d3b9b5d063acc","type":"junction","z":"baaaaa02ec51bdba","x":880.428524017334,"y":356.333335240682,"wires":[["b4aa6e6d91a155b0","37e5193b1d508f0c","e4af7a806abcf074","c1671e636c51ac0a"]]},{"id":"575fc9639b454c72","type":"junction","z":"baaaaa02ec51bdba","x":1345.9523179531097,"y":909.3333352406821,"wires":[["ce1e578ae9c2be3d","c14fd51f1388a813","a6a94529342c8777","0edbd404b69c1f0b"]]},{"id":"5b73a4e6ac603529","type":"junction","z":"baaaaa02ec51bdba","x":880.428524017334,"y":1459.8333352406821,"wires":[["1c65dbc7cd1e1ab0","0d9021eb4ff8ac8e","5b11c83d04655d74","01a54a29cc687945"]]},{"id":"3efb77788866d18d","type":"switch","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"flag1","property":"flag1","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2352.3333282470703,"y":154.333335240682,"wires":[["a6ac25837fdca8e0"]]},{"id":"226bc160e5dc3289","type":"switch","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"flag2","property":"flag2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2352.3333282470703,"y":204.333335240682,"wires":[["a6ac25837fdca8e0"]]},{"id":"a6ac25837fdca8e0","type":"debug","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"msg count","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2628.3333282470703,"y":187.333335240682,"wires":[]},{"id":"736be50597851b91","type":"switch","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"flag1","property":"flag1","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2352.3333282470703,"y":286.333335240682,"wires":[["5b68f3d8cdf57bdb"]]},{"id":"31213757b14d21bb","type":"switch","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"flag2","property":"flag2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2352.3333282470703,"y":336.333335240682,"wires":[["5b68f3d8cdf57bdb"]]},{"id":"5b68f3d8cdf57bdb","type":"debug","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"msg count","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2622.3333282470703,"y":319.333335240682,"wires":[]},{"id":"fb35aa7c5f034a4c","type":"switch","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"flag1","property":"flag1","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2352.3333282470703,"y":393.333335240682,"wires":[["e728bb859f4618c2"]]},{"id":"8960e1dd0f83a302","type":"switch","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"flag2","property":"flag2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2352.3333282470703,"y":443.333335240682,"wires":[["e728bb859f4618c2"]]},{"id":"e728bb859f4618c2","type":"debug","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"msg count","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2620.3333282470703,"y":426.333335240682,"wires":[]},{"id":"8e1bf0803e5d97be","type":"switch","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"flag1","property":"flag1","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2352.3333282470703,"y":508.333335240682,"wires":[["96c5de5f8f7e3711"]]},{"id":"dacace538b12acd2","type":"switch","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"flag2","property":"flag2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2352.3333282470703,"y":558.333335240682,"wires":[["96c5de5f8f7e3711"]]},{"id":"96c5de5f8f7e3711","type":"debug","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"msg count","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2621.3333282470703,"y":541.333335240682,"wires":[]},{"id":"b4aa6e6d91a155b0","type":"change","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"flag1: true, flag2: true","rules":[{"t":"set","p":"flag1","pt":"msg","to":"true","tot":"bool"},{"t":"set","p":"flag2","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2039.3333282470703,"y":177.333335240682,"wires":[["3efb77788866d18d","226bc160e5dc3289"]]},{"id":"37e5193b1d508f0c","type":"change","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"flag1: true, flag2: false","rules":[{"t":"set","p":"flag1","pt":"msg","to":"true","tot":"bool"},{"t":"set","p":"flag2","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2035.3333282470703,"y":308.333335240682,"wires":[["736be50597851b91","31213757b14d21bb"]]},{"id":"e4af7a806abcf074","type":"change","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"flag1: false, flag2: true","rules":[{"t":"set","p":"flag1","pt":"msg","to":"false","tot":"bool"},{"t":"set","p":"flag2","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2030.3333282470703,"y":420.333335240682,"wires":[["fb35aa7c5f034a4c","8960e1dd0f83a302"]]},{"id":"c1671e636c51ac0a","type":"change","z":"baaaaa02ec51bdba","g":"fe7319ecfe6de7ec","name":"flag1: false, flag2: false","rules":[{"t":"set","p":"flag1","pt":"msg","to":"false","tot":"bool"},{"t":"set","p":"flag2","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2028.3333282470703,"y":533.333335240682,"wires":[["8e1bf0803e5d97be","dacace538b12acd2"]]},{"id":"46ffb1551a18c8dc","type":"inject","z":"baaaaa02ec51bdba","name":"trigger","props":[],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":125.99994659423828,"y":909.3333352406821,"wires":[["175d3b9b5d063acc","575fc9639b454c72","5b73a4e6ac603529"]]},{"id":"414a2e97372f2977","type":"switch","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"flag1","property":"flag1","propertyType":"msg","rules":[{"t":"true"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":2346.3333282470703,"y":702.3333352406821,"wires":[["ae301a86f5159da6"],["1ba0e36f5c0629ba"]]},{"id":"1ba0e36f5c0629ba","type":"switch","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"flag2","property":"flag2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2346.3333282470703,"y":752.3333352406821,"wires":[["ae301a86f5159da6"]]},{"id":"ae301a86f5159da6","type":"debug","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"msg count","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2628.3333282470703,"y":735.3333352406821,"wires":[]},{"id":"400862e2e112c630","type":"debug","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"msg count","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2622.3333282470703,"y":853.3333352406821,"wires":[]},{"id":"61c97f4dbae20d91","type":"debug","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"msg count","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2620.3333282470703,"y":971.3333352406821,"wires":[]},{"id":"17ea63f516ebb3b5","type":"debug","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"msg count","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2621.3333282470703,"y":1089.3333352406821,"wires":[]},{"id":"ce1e578ae9c2be3d","type":"change","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"flag1: true, flag2: true","rules":[{"t":"set","p":"flag1","pt":"msg","to":"true","tot":"bool"},{"t":"set","p":"flag2","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2039.3333282470703,"y":725.3333352406821,"wires":[["414a2e97372f2977"]]},{"id":"c14fd51f1388a813","type":"change","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"flag1: true, flag2: false","rules":[{"t":"set","p":"flag1","pt":"msg","to":"true","tot":"bool"},{"t":"set","p":"flag2","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2035.3333282470703,"y":844.0000019073487,"wires":[["ced8d28704892075"]]},{"id":"a6a94529342c8777","type":"change","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"flag1: false, flag2: true","rules":[{"t":"set","p":"flag1","pt":"msg","to":"false","tot":"bool"},{"t":"set","p":"flag2","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2030.3333282470703,"y":962.6666685740154,"wires":[["ac4963626284a345"]]},{"id":"0edbd404b69c1f0b","type":"change","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"flag1: false, flag2: false","rules":[{"t":"set","p":"flag1","pt":"msg","to":"false","tot":"bool"},{"t":"set","p":"flag2","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2028.3333282470703,"y":1081.3333352406821,"wires":[["11f93608da478336"]]},{"id":"ced8d28704892075","type":"switch","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"flag1","property":"flag1","propertyType":"msg","rules":[{"t":"true"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":2346.3333282470703,"y":830.3333352406821,"wires":[["400862e2e112c630"],["6b465b000842124a"]]},{"id":"6b465b000842124a","type":"switch","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"flag2","property":"flag2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2346.3333282470703,"y":880.3333352406821,"wires":[["400862e2e112c630"]]},{"id":"ac4963626284a345","type":"switch","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"flag1","property":"flag1","propertyType":"msg","rules":[{"t":"true"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":2346.3333282470703,"y":948.3333352406821,"wires":[["61c97f4dbae20d91"],["700dfab7fb1312d6"]]},{"id":"700dfab7fb1312d6","type":"switch","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"flag2","property":"flag2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2346.3333282470703,"y":998.3333352406821,"wires":[["61c97f4dbae20d91"]]},{"id":"11f93608da478336","type":"switch","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"flag1","property":"flag1","propertyType":"msg","rules":[{"t":"true"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":2346.3333282470703,"y":1066.3333352406821,"wires":[["17ea63f516ebb3b5"],["9bcd2d462a2fe621"]]},{"id":"9bcd2d462a2fe621","type":"switch","z":"baaaaa02ec51bdba","g":"28af2e39788a8dcd","name":"flag2","property":"flag2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2346.3333282470703,"y":1116.3333352406821,"wires":[["17ea63f516ebb3b5"]]},{"id":"76cb6287e1d9a54c","type":"switch","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"flag1","property":"flag1","propertyType":"msg","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":2346.3333282470703,"y":1260.3333352406821,"wires":[["102ec766d008ddd8"]]},{"id":"102ec766d008ddd8","type":"switch","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"flag2","property":"flag2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2346.3333282470703,"y":1310.3333352406821,"wires":[["9ca64cfec7326094"]]},{"id":"9ca64cfec7326094","type":"debug","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"msg count","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2628.3333282470703,"y":1293.3333352406821,"wires":[]},{"id":"a23a7b4e2649be8f","type":"debug","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"msg count","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2622.3333282470703,"y":1411.3333352406821,"wires":[]},{"id":"dcf25d7708b21c20","type":"debug","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"msg count","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2620.3333282470703,"y":1529.3333352406821,"wires":[]},{"id":"6062aa4d832970fe","type":"debug","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"msg count","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":2621.3333282470703,"y":1647.3333352406821,"wires":[]},{"id":"1c65dbc7cd1e1ab0","type":"change","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"flag1: true, flag2: true","rules":[{"t":"set","p":"flag1","pt":"msg","to":"true","tot":"bool"},{"t":"set","p":"flag2","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2039.3333282470703,"y":1283.3333352406821,"wires":[["76cb6287e1d9a54c"]]},{"id":"0d9021eb4ff8ac8e","type":"change","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"flag1: true, flag2: false","rules":[{"t":"set","p":"flag1","pt":"msg","to":"true","tot":"bool"},{"t":"set","p":"flag2","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2035.3333282470703,"y":1402.0000019073486,"wires":[["17b6cc19705ddbd4"]]},{"id":"5b11c83d04655d74","type":"change","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"flag1: false, flag2: true","rules":[{"t":"set","p":"flag1","pt":"msg","to":"false","tot":"bool"},{"t":"set","p":"flag2","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2030.3333282470703,"y":1520.6666685740151,"wires":[["ba27b811d2016550"]]},{"id":"01a54a29cc687945","type":"change","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"flag1: false, flag2: false","rules":[{"t":"set","p":"flag1","pt":"msg","to":"false","tot":"bool"},{"t":"set","p":"flag2","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2028.3333282470703,"y":1639.3333352406821,"wires":[["46896d00ae724cd5"]]},{"id":"17b6cc19705ddbd4","type":"switch","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"flag1","property":"flag1","propertyType":"msg","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":2349.3333282470703,"y":1382.3333352406821,"wires":[["c79b852ed7990e02"]]},{"id":"c79b852ed7990e02","type":"switch","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"flag2","property":"flag2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2349.3333282470703,"y":1432.3333352406821,"wires":[["a23a7b4e2649be8f"]]},{"id":"ba27b811d2016550","type":"switch","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"flag1","property":"flag1","propertyType":"msg","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":2350.3333282470703,"y":1501.3333352406821,"wires":[["e6feb717fac6d0e8"]]},{"id":"e6feb717fac6d0e8","type":"switch","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"flag2","property":"flag2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2350.3333282470703,"y":1551.3333352406821,"wires":[["dcf25d7708b21c20"]]},{"id":"46896d00ae724cd5","type":"switch","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"flag1","property":"flag1","propertyType":"msg","rules":[{"t":"true"}],"checkall":"false","repair":false,"outputs":1,"x":2349.3333282470703,"y":1609.3333352406821,"wires":[["10775afe03c1ec17"]]},{"id":"10775afe03c1ec17","type":"switch","z":"baaaaa02ec51bdba","g":"ccce9dd2badfeb40","name":"flag2","property":"flag2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2349.3333282470703,"y":1659.3333352406821,"wires":[["6062aa4d832970fe"]]}]