{"flowid":"18a539afac758c61","flowdata":[{"id":"8aa25bbe07c4a820","type":"subflow","name":"LED","info":"","category":"","in":[{"x":489,"y":193,"wires":[{"id":"41a0b4750e695e82"}]}],"out":[{"x":973,"y":219,"wires":[{"id":"41a0b4750e695e82","port":0}]}],"env":[],"meta":{},"color":"#FFF","icon":"node-red/light.svg","status":{"x":946,"y":146,"wires":[{"id":"84d73554d7c2de56","port":0}]}},{"id":"41a0b4750e695e82","type":"function","z":"8aa25bbe07c4a820","name":" ","func":"if ( msg.action == \"random\") {\n    var v = Math.round(Math.random() * 100);\n\n    node.status({\n        fill: v < 20 ? \"green\" : (v < 40 ? \"red\" : (v < 60 ? \"yellow\" : (v < 80 ? \"blue\" : \"grey\" ))),\n        shape: \"dot\"\n    })\n\n    setTimeout(()=> { node.status({})}, (750 * Math.random()) + 250);\n}\n\nif ( msg.action == \"rolling\") {\n    var columns = [ \"green\", \"yellow\", \"red\", \"blue\", \"grey\"]\n\n    var clr = columns[ msg.column % columns.length ];\n\n    setTimeout(() => { node.status({ fill: clr, shape: \"dot\"}) }, 250 * msg.column);\n    setTimeout(() => { node.status({}) }, 350 * (msg.column+1));\n\n    msg.column += 1;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":763,"y":225,"wires":[[]],"icon":"node-red/light.svg"},{"id":"84d73554d7c2de56","type":"status","z":"8aa25bbe07c4a820","name":"","scope":["41a0b4750e695e82"],"x":727,"y":137,"wires":[[]]},{"id":"18a539afac758c61","type":"tab","label":"[Exp] Led Ticker","disabled":false,"info":"::: aim\n\nCreate a ticker wall using the status colours.\n\n:::\n\n","env":[]},{"id":"b281abc6056567a8","type":"inject","z":"18a539afac758c61","name":"","props":[{"p":"payload"},{"p":"action","v":"rolling","vt":"str"},{"p":"column","v":"0","vt":"num"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":94,"y":54,"wires":[["b19560ce49e670bf"]]},{"id":"b19560ce49e670bf","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":226,"y":146,"wires":[["87de12b6eddbc003"]]},{"id":"87de12b6eddbc003","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":339.73333333333335,"y":146,"wires":[["146fdabd5a91d26a"]]},{"id":"146fdabd5a91d26a","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":453.4666666666667,"y":146,"wires":[["b9f918a203978459"]]},{"id":"b9f918a203978459","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":567.2,"y":146,"wires":[["b5e4ebabc6825af8"]]},{"id":"b5e4ebabc6825af8","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":680.9333333333334,"y":146,"wires":[["46e2e0f07bd3710c"]]},{"id":"46e2e0f07bd3710c","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":794.6666666666667,"y":146,"wires":[["d6088c6de24a8da3"]]},{"id":"d6088c6de24a8da3","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":908.4000000000001,"y":146,"wires":[["dd3fef501af40084"]]},{"id":"dd3fef501af40084","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":1022.1333333333334,"y":146,"wires":[["99c47302f6dae033"]]},{"id":"99c47302f6dae033","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":1135.8666666666668,"y":146,"wires":[["6a3d92970d049ea4"]]},{"id":"6a3d92970d049ea4","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":1249.6000000000001,"y":146,"wires":[["e467eeea0c3c2caa"]]},{"id":"e467eeea0c3c2caa","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":1363.3333333333335,"y":146,"wires":[["b671571bbb6b5c79"]]},{"id":"b671571bbb6b5c79","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":1477.0666666666668,"y":146,"wires":[["12a1d1711f0433e8"]]},{"id":"12a1d1711f0433e8","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":1590.8000000000002,"y":146,"wires":[["037b35fdf2e9441a"]]},{"id":"037b35fdf2e9441a","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":1704.5333333333335,"y":146,"wires":[["4994754b5948a43b"]]},{"id":"4994754b5948a43b","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":1818.2666666666669,"y":146,"wires":[["1faf0989f452760a"]]},{"id":"1faf0989f452760a","type":"subflow:8aa25bbe07c4a820","z":"18a539afac758c61","name":" ","x":1932,"y":146,"wires":[["715ef0fd18d8e081"]]},{"id":"715ef0fd18d8e081","type":"link out","z":"18a539afac758c61","name":"link out 81","mode":"link","links":["acad887a7f5605be"],"x":2027,"y":146,"wires":[]},{"id":"acad887a7f5605be","type":"link in","z":"18a539afac758c61","name":"link in 2","links":["715ef0fd18d8e081"],"x":109,"y":146,"wires":[["b19560ce49e670bf"]]}],"flowlabel":"[Exp] Led Ticker"}