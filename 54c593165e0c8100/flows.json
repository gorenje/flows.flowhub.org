[{"id":"54c593165e0c8100","type":"tab","label":"mapmindreader","disabled":false,"info":"","env":[]},{"id":"f92a2e423d44ac56","type":"template","z":"54c593165e0c8100","name":"diffviewer - v1","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n    <title>Flow Differences</title>\n\n    <link rel=\"alternate\" type=\"application/rss+xml\" href=\"/feed.xml\" title=\"Subscribe to Blog Open Mind Map Org\">\n    <link rel=\"sitemap\" type=\"application/xml\" title=\"Sitemap\" href=\"/sitemap.xml\">\n\n    <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/f/i/apple-touch-icon.png\">\n    <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"/f/i/favicon-32x32.png\">\n    <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"/f/i/favicon-16x16.png\">\n    <link rel=\"manifest\" href=\"/f/site.webmanifest\">\n\n    <script src=\"/content/jquery-3.7.0.min.js\" referrerpolicy=\"no-referrer\"></script>\n    <script src=\"/embed/flowviewer.js\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\"></script>\n    <link rel=\"stylesheet\" href=\"/embed/flowviewer.css\">\n  </head>\n\n  <body>\n\n    <div style=\"position: fixed; top: 10; left: 10; z-index: 10;\">\n      <input style=\"width: 300px\" id=\"slider\" type=\"range\" min=\"0\" max=\"1\" step=\"0.01\" value=\"0.5\"></input>\n    </div>\n    \n    <div id='svgcontainer' \n        style=\"transform: scale(0.5,0.5) translate(-2500px,-2500px) ; top: 50px; left: 10px; position: absolute; overflow: scroll; display: block; z-index: 0;\">\n        \n          <svg id=\"svgelem\" width=\"5000\" height=\"5000\" viewBox=\"0 0 5000 5000\" pointer-events=\"all\" style=\"cursor: crosshair;\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <!-- Use group elems to ensure that layering of shapes is correct, i.e. nodes always over links -->\n        <g class='container-gridlines'>\n          <g class='flowGridlines'></g>\n        </g>\n\n        <g class='container-diff1'>\n          <g class='flowGridlines' style=\"display: none;\"></g>\n          <g class='flowGroups'></g>\n          <g class='flowWires'></g>\n          <g class='flowNodes'></g>\n        </g>\n        <g class='container-diff2'>\n          <g class='flowGridlines' style=\"display: none;\"></g>\n          <g class='flowGroups'></g>\n          <g class='flowWires'></g>\n          <g class='flowNodes'></g>\n        </g>\n      </svg>\n    </div>\n  </body>\n\n  <script>\n    var slider = document.getElementById(\"slider\");\n    slider.oninput = function() {\n       $('.container-diff2').css('opacity', 1 - this.value) \n       $('.container-diff1').css('opacity', this.value) \n    }\n    \n    $('#slider').val(0);\n\n    var flowId1 = \"6c8ce462533a1da4\";\n    var flowId2 = \"dd02409d1524b6fd\";\n\n    renderFlow(\"\", [], $($('#svgelem .container-gridlines')[0]), { gridlines: true });\n\n    $(function(){\n      $.ajax({\n        dataType: \"json\",\n        url: \"https://demo.openmindmap.org/omm/flows\",\n        method: 'get',\n        success: function(flowdata) { \n          flowData = flowdata;\n          renderFlow(flowId1, flowdata, $($('#svgelem .container-diff1')[0]), { gridlines: true, images: true, labels: true });\n          renderFlow(flowId2, flowdata, $($('#svgelem .container-diff2')[0]), { gridlines: true, images: true, labels: true });\n          $('.container-diff2').css('opacity', 1) \n          $('.container-diff1').css('opacity', 0) \n        }\n      });\n    });\n  </script>\n\n\n{{#page.reload}}\n  <!-- debug aid: reload page when I deploy Node-RED - don't need to explicitly reload any changes -->\n<script>\n    var socket = undefined;\n\nfunction initSocket() {\n  // Connection opened\n  socket = new WebSocket(\"wss://blog.openmindmap.org/cmds\");\n\n  socket.onclose = function() {\n    initSocket();\n  };\n\n  // Listen for messages\n  socket.addEventListener(\"message\", (event) => {\n    if ( event.data == \"reload\") {\n      window.location.reload();\n    }\n  });\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", initSocket );\n</script>\n{{/page.reload}}\n\n</html>\n\n\n\n\n\n","output":"str","x":402.4288330078125,"y":687,"wires":[[]]},{"id":"f163d1cf58a81bf4","type":"link in","z":"54c593165e0c8100","name":"[blog] diffviewer-v1.html","links":[],"x":333,"y":517,"wires":[["a8cb4aaec941a265"]]},{"id":"a8cb4aaec941a265","type":"BlogPageInfo","z":"54c593165e0c8100","name":"","image":"","summary":"Can I generate html directly without using markdown markup?","title":"This is a test of something new","publishedAt":"2023-06-25T11:22","updatedOn":"2023-07-04T17:14","incRss":false,"incSitemap":false,"incIndex":false,"shrLinkedIn":false,"supportNodeRedJson":false,"reloadOnEdit":false,"redirectToNode":false,"redirectNodeId":"status-404","redirectStatusCode":"301","x":507.71435546875,"y":517,"wires":[["d036087dc93a0d64"]]},{"id":"502991b8e6c34191","type":"link out","z":"54c593165e0c8100","name":"link out 82","mode":"return","links":[],"x":1229,"y":439,"wires":[]},{"id":"3188dff9d2dfb469","type":"switch","z":"54c593165e0c8100","name":"has _linkSource - is this a link-call action","property":"_linkSource","propertyType":"msg","rules":[{"t":"nnull"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":977.857177734375,"y":445.4285888671875,"wires":[["502991b8e6c34191"],[]]},{"id":"7b1edd87eb26400a","type":"template","z":"54c593165e0c8100","name":"v01","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n    <title>{{ page.title }}</title>\n\n    <link rel=\"alternate\" type=\"application/rss+xml\" href=\"/feed.xml\" title=\"Subscribe to Blog Open Mind Map Org\">\n    <link rel=\"sitemap\" type=\"application/xml\" title=\"Sitemap\" href=\"/sitemap.xml\">\n\n    <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/f/i/apple-touch-icon.png\">\n    <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"/f/i/favicon-32x32.png\">\n    <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"/f/i/favicon-16x16.png\">\n    <link rel=\"manifest\" href=\"/f/site.webmanifest\">\n\n    <script src=\"/content/jquery-3.7.0.min.js\" referrerpolicy=\"no-referrer\"></script>\n    <script src=\"/embed/flowviewer.js\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\"></script>\n    <link rel=\"stylesheet\" href=\"/embed/flowviewer.css\">\n  </head>\n\n  <body>\n\n    <div style=\"position: fixed; top: 10; left: 10; z-index: 10;\">\n      Use the slider to \"zoom\" out:\n      <input style=\"width: 300px\" id=\"slider\" type=\"range\" min=\"0\" max=\"1\" step=\"0.01\" value=\"0.5\"></input>\n    </div>\n    \n    <div id='svgcontainer' \n        style=\"transform: scale(0.5,0.5) translate(-2500px,-2500px) ; top: 50px; left: 10px; position: absolute; overflow: scroll; display: block; z-index: 0;\">\n        \n          <svg id=\"svgelem\" width=\"5000\" height=\"5000\" viewBox=\"0 0 5000 5000\" pointer-events=\"all\" style=\"cursor: crosshair;\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <!-- Use group elems to ensure that layering of shapes is correct, i.e. nodes always over links -->\n        <g class='container-gridlines'>\n          <g class='flowGridlines'></g>\n        </g>\n\n        <g class='container-diff1'>\n          <g class='flowGridlines' style=\"display: none;\"></g>\n          <g class='flowGroups'></g>\n          <g class='flowWires'></g>\n          <g class='flowNodes'></g>\n        </g>\n        <g class='container-diff2'>\n          <g class='flowGridlines' style=\"display: none;\"></g>\n          <g class='flowGroups'></g>\n          <g class='flowWires'></g>\n          <g class='flowNodes'></g>\n        </g>\n      </svg>\n    </div>\n  </body>\n\n  <script>\n    var slider = document.getElementById(\"slider\");\n    slider.oninput = function() {\n       $('.container-diff2').css('opacity', 1 - this.value) \n       $('.container-diff1').css('opacity', this.value) \n    }\n    \n    $('#slider').val(0);\n\n    var flowId1 = \"132de985ea8eea5c\";\n    var flowId2 = \"a8f88fadf488e34a\";\n    \n    // renderFlow(\"\", [], $($('#svgelem .container-gridlines')[0]), { gridlines: true });\n\n    $(function(){\n      $.ajax({\n        dataType: \"json\",\n        url: \"https://demo.openmindmap.org/omm/flows\",\n        method: 'get',\n        success: function(flowdata) { \n          flowData = flowdata;\n          renderFlow(flowId1, flowdata, $($('#svgelem .container-diff1')[0]));\n          renderFlow(flowId2, flowdata, $($('#svgelem .container-diff2')[0]));\n          $('.container-diff2').css('opacity', 1) \n          $('.container-diff1').css('opacity', 0) \n        }\n      });\n    });\n  </script>\n</html>\n\n\n\n\n\n","output":"str","x":703,"y":386,"wires":[["3188dff9d2dfb469"]]},{"id":"f68256e4db2bd7d2","type":"link in","z":"54c593165e0c8100","name":"[blog] mindmapviewer.html","links":[],"x":310.5711669921875,"y":386,"wires":[["669d913ad2f1965b"]]},{"id":"669d913ad2f1965b","type":"BlogPageInfo","z":"54c593165e0c8100","name":"","image":"","summary":"Something to give an impression of the future.","title":"Mind Map Viewer","tags":"","publishedAt":"2023-07-13T11:22","updatedOn":"2023-07-12T17:14","incRss":false,"incSitemap":false,"incIndex":false,"draft":false,"shrHackerNews":false,"shrLinkedIn":false,"supportNodeRedJson":false,"reloadOnEdit":false,"editbutton":false,"redirectToNode":false,"redirectNodeId":"status-404","redirectStatusCode":"301","x":485.2855224609375,"y":386,"wires":[["7b1edd87eb26400a"]]},{"id":"d036087dc93a0d64","type":"change","z":"54c593165e0c8100","name":"","rules":[{"t":"set","p":"statusCode","pt":"msg","to":"301","tot":"num"},{"t":"set","p":"_loc","pt":"msg","to":"'https://backup.openmindmap.org'","tot":"jsonata"},{"t":"set","p":"headers","pt":"msg","to":"{ \"Location\": msg._loc }","tot":"jsonata"},{"t":"set","p":"payload","pt":"msg","to":"\"<a href='\" & msg._loc & \"'>Redirect</a>\"","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":576,"y":582,"wires":[["014a168b16dde83c","d1c2cbb41959c70a"]]},{"id":"014a168b16dde83c","type":"http response","z":"54c593165e0c8100","name":"redirect to https","statusCode":"301","headers":{"location":""},"x":650,"y":657,"wires":[]},{"id":"d1c2cbb41959c70a","type":"link out","z":"54c593165e0c8100","name":"link out 95","mode":"return","links":[],"x":826,"y":561,"wires":[]}]