[{"id":"c562c43e69bcf0af","type":"tab","label":"[Web] Dynamic Routing","disabled":false,"info":"::: aim\n\nUsing link-in and link-call nodes to implementing dynamic path routing.\n\n:::\n\n::: warning\n\nThis flow contains Http-In endpoinst definitions that could interrupt existing endpoints and services or open your Node-RED installation to malicious attacks.\n\n:::\n\n### Related Flows\n\n- [Static Router](https://flowhub.org/f/40ea5f2aea6592ae) routing paths to specific endpoints - whitelisting paths.","env":[]},{"id":"627be3679370b933","type":"group","z":"c562c43e69bcf0af","name":"Route not found","style":{"label":true},"nodes":["e47df6c462833421","cc0c614b1e1e6104","8d7b5b2ee31e3e96"],"x":764,"y":745,"w":580,"h":83},{"id":"207fa856ae4a3b07","type":"group","z":"c562c43e69bcf0af","name":"router","style":{"label":true},"nodes":["63311a5c3e0b8520","f266975e312ddef6","5117e34e38f7445f","df4ccd20486f7567","a6b3f178d410ef1f"],"x":239,"y":631,"w":1105,"h":82},{"id":"8bae3ca1893c2c87","type":"group","z":"c562c43e69bcf0af","name":"GET /hello/world","style":{"label":true},"nodes":["6eafc7df3d7fa16c","8022ad08a9ca1c78","a78e640e4d0dad43"],"x":239,"y":352,"w":455,"h":82},{"id":"fabeb20aa2bae1f8","type":"group","z":"c562c43e69bcf0af","name":"GET /node/red","style":{"label":true},"nodes":["4be3e088622e9054","e7110ab46bd47bad","dafcc80764d7547d"],"x":242,"y":475,"w":455,"h":82},{"id":"63311a5c3e0b8520","type":"http in","z":"c562c43e69bcf0af","g":"207fa856ae4a3b07","name":"","url":"/:path1/:path2","method":"get","upload":false,"swaggerDoc":"","x":355,"y":672,"wires":[["5117e34e38f7445f"]]},{"id":"f266975e312ddef6","type":"link call","z":"c562c43e69bcf0af","g":"207fa856ae4a3b07","name":"","links":[],"linkType":"dynamic","timeout":"30","x":811.5,"y":672,"wires":[["a6b3f178d410ef1f"]]},{"id":"5117e34e38f7445f","type":"change","z":"c562c43e69bcf0af","g":"207fa856ae4a3b07","name":"","rules":[{"t":"set","p":"target","pt":"msg","to":"\"[\" & msg.req.params.path1 & \"] \" & msg.req.params.path2","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":598.25,"y":672,"wires":[["f266975e312ddef6"]]},{"id":"e47df6c462833421","type":"catch","z":"c562c43e69bcf0af","g":"627be3679370b933","name":"","scope":["f266975e312ddef6"],"uncaught":false,"x":840,"y":786,"wires":[["8d7b5b2ee31e3e96"]]},{"id":"cc0c614b1e1e6104","type":"http response","z":"c562c43e69bcf0af","g":"627be3679370b933","name":"","statusCode":"","headers":{},"x":1268,"y":787,"wires":[]},{"id":"8d7b5b2ee31e3e96","type":"change","z":"c562c43e69bcf0af","g":"627be3679370b933","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Not Found","tot":"str"},{"t":"set","p":"statusCode","pt":"msg","to":"404","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":1051,"y":786,"wires":[["cc0c614b1e1e6104"]]},{"id":"df4ccd20486f7567","type":"http response","z":"c562c43e69bcf0af","g":"207fa856ae4a3b07","name":"","statusCode":"","headers":{},"x":1268,"y":672,"wires":[]},{"id":"a6b3f178d410ef1f","type":"change","z":"c562c43e69bcf0af","g":"207fa856ae4a3b07","name":"","rules":[{"t":"set","p":"statusCode","pt":"msg","to":"404","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":1044.75,"y":672,"wires":[["df4ccd20486f7567"]]},{"id":"6eafc7df3d7fa16c","type":"link in","z":"c562c43e69bcf0af","g":"8bae3ca1893c2c87","name":"[hello] world","links":[],"x":280,"y":393,"wires":[["8022ad08a9ca1c78"]]},{"id":"8022ad08a9ca1c78","type":"template","z":"c562c43e69bcf0af","g":"8bae3ca1893c2c87","name":"","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <head>\n        <title>Hello World</title>\n    </head>\n    <body>\n        Hello World\n    </body>\n</html>","output":"str","x":466.5,"y":393,"wires":[["a78e640e4d0dad43"]]},{"id":"a78e640e4d0dad43","type":"link out","z":"c562c43e69bcf0af","g":"8bae3ca1893c2c87","name":"link out 110","mode":"return","links":[],"x":653,"y":393,"wires":[]},{"id":"4be3e088622e9054","type":"link in","z":"c562c43e69bcf0af","g":"fabeb20aa2bae1f8","name":"[node] red","links":[],"x":283,"y":516,"wires":[["e7110ab46bd47bad"]]},{"id":"e7110ab46bd47bad","type":"template","z":"c562c43e69bcf0af","g":"fabeb20aa2bae1f8","name":"","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <head>\n        <title>Node RED</title>\n    </head>\n    <body>\n        Node-RED\n    </body>\n</html>","output":"str","x":469.5,"y":516,"wires":[["dafcc80764d7547d"]]},{"id":"dafcc80764d7547d","type":"link out","z":"c562c43e69bcf0af","g":"fabeb20aa2bae1f8","name":"link out 111","mode":"return","links":[],"x":656,"y":516,"wires":[]}]