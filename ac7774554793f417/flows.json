[{"id":"ac7774554793f417","type":"tab","label":"Visual Flow Based Programming","disabled":false,"info":"::: aim\n\nDescribe what is Visual Flow Based Programming, visually in one flow or less.\n\n:::\n\n### Description\n\n[Flow Based Programming](https://jpaulm.github.io/fbp/index.html) (FBP) goes back to the 1960s and is a complete paradigm shift placing the focus on data *flow* and not *algorithmic manipulation* of data.\n\nTo begin with, some terminology:\n\n- a *flow* is the program, a flow describes the manipulation of data that *flows* through it,\n- flows consist of *nodes*, these are the computational units that do the work. In Node-RED, nodes are represented by rectangles,\n- wires connect the nodes and describe the path that the data takes through a flow, i.e., the program. Wires are represented by the lines connecting the rectangles.\n\nVisually one can think of:\n\n- a rectangle represents computational work, manipulation of data,\n- a line represents the flow of data, the pathway of the data through the flow diagram\n\nData flows from left to right, data enters a computational unit (i.e. a rectangle) on the left side and exits, having been modified by the computational unit (i.e., rectangle), on the right side.\n\nAs the data moves through the flow, it is molded into shape - imagine a factory assembly line, perhaps a car assembly line. As the car passes along the assembly line, it gradually takes on shape until at the end, the car is complete and driven off to the carpark.\n\nI sometimes call wires *pipes* since for me stuff *flows* through pipes while wires conduct electricity - the term *pipes* makes for me more sense. Additionally, Unix *pipes* are the exact same FBP paradigm only textually.\n\n### Example 1: Node types\n\nWith that basis, looking at the <a class=\"ahl-group-only\" data-ids=\"da7936d50a5b762c\">first flow</a>, one sees three computational units connected by two pipes: three nodes and two wires in Node-RED terminology.\n\nLooking closer, the flow has an <a class=\"ahl-node-only\" data-ids=\"e67429070592ba53\">inject node</a> connected to a <a class=\"ahl-node-only\" data-ids=\"c0c373c795859694\">function node</a> which in turn is connected to a <a class=\"ahl-node-only\" data-ids=\"8d61f790f5ea511d\">debug node</a>. We are confronted by node *types* - each computational unit (i.e., node) has a different purpose and that purpose is described by its *type*.\n\nThe types used in this flow are:\n\n- an *inject* node is responsible for *injecting* data into a flow, it is a data generator node,\n- a *function* node is computation defined by Javascript code, it applies its *functionality* to the data passing through,\n- a *debug* node is responsible for providing insights into the data and its current state, a *debug* node displays the data it receives in a panel within Node-RED.\n\nThis flow represents the central concept of flow based programming: somewhere data is generated, somewhere that data is manipulated and somewhere the manipulated data is outputted. Every program, every algorithm and every flow when *focussed on the data*, has three core actions: obtain, manipulate, return.\n\nPutting this together, I can say that the <a class=\"ahl-node-only\" data-ids=\"e67429070592ba53\">inject node</a> obtains the data, the <a class=\"ahl-node-only\" data-ids=\"c0c373c795859694\">function node</a> manipulates the data and the <a class=\"ahl-node-only\" data-ids=\"8d61f790f5ea511d\">debug node</a> returns the data. Above I wrote the rectangles *manipulate* the data but inject and debug do not *manipulate*, i.e., change the data. Manipulation includes generation (in the case of inject) and passing on the data (in the case of debug), so I would argue *all* nodes *manipulate* the data.\n\n### Example 2: Data duplication\n\nThe <a class=\"ahl-group-only\" data-ids=\"4ad9d6b654e58ee6\">second flow</a> is an example of another core feature of FBP: data duplication. Data can be duplicated for *zero cost*. Here zero means there is nothing the developer has to do to duplicate the data, it just happens by adding a wire, i.e., a connection between computational units.\n\nThe <a class=\"ahl-link-node first-to-all\" data-ids=\"71c86253a96eaf59,dd8bb0320f2a2c94,01c7e1178e5571c1\">function node</a> now has two output connections, along which pipe does the output data flow? Both. The output from the <a class=\"ahl-node-only\" data-ids=\"71c86253a96eaf59\">first function</a> is *duplicated* and passed to both the <a class=\"ahl-node-only\" data-ids=\"dd8bb0320f2a2c94\">second function</a> and to the <a class=\"ahl-node-only\" data-ids=\"01c7e1178e5571c1\">debug</a> node.\n\nThe data is *not* the same data object, it is a *clone* (i.e., copy) of the data generated by the node. This allows data to be manipulate *independently* by many computational units, (i.e., nodes). Any node with an output connection can have multiple wires connected to multiple other nodes, Node-RED takes care of duplicating the data.\n\n### Example 3: Data decision\n\nThe <a class=\"ahl-group-only\" data-ids=\"eecb8f927c5b21f3\">third flow</a> demonstrates a fork in the river: data can be directed to flow along specific wires. The <a class=\"ahl-node-only\" data-ids\"f3cb6bbcc32d8dc5\">switch node</a> represents *indirect* data manipulation: the switch does not alter the data itself rather, based on the data contents, it determines which alterations *should* be made downstream.\n\nAgain the data is duplicate automagically and can flow out of multiple output connetions. Data could flow out of all three connections or none at all and everything inbetween.\n\nHere I must introduce some more terminology:\n\n- *ports* are the smaller grey squares attached to the rectanges and represent \"docking ports\" onto which wires are connected. \n\nThe The <a class=\"ahl-node-only\" data-ids=\"f3cb6bbcc32d8dc5\">switch node</a> has three *output* ports and one *input* port. The <a class=\"ahl-node-only\" data-ids=\"e67429070592ba53,a8b53e9c746f7e3e,77aa26522a923ab5\">inject nodes</a> only have one *output* port and zero *input* ports.\n\n\nThe <a class=\"ahl-node-only\" data-ids=\"4a8999f6d751601e,01c7e1178e5571c1,8d61f790f5ea511d\">debug nodes</a> have zero *output* ports and one *input* port and the <a class=\"ahl-node-only\" data-ids=\"c0c373c795859694,71c86253a96eaf59,dd8bb0320f2a2c94,e1ace6a88d568e89,d17f862d03f9c963\">function nodes</a> have one each input and output port.\n\n<!--\n### Conclusion\n\nHaving grasp the basics of Flow Base Programming and have been described the Node-RED terminology, non-developers can quickly grasp the basics of the code that they are shown. Very rarely does this happen with textual programs. \n\nTextual programming languages place too much focus on algorithms that for a novice, programs can get very confusing, very quickly. Flow Based Programs and in particular visual FBP focuses on data and data flows to provide a give overview of a system but then allows one to gradually obtain the algorithmic details.\n\nWhat I hope to have done is to provide an insight how this approach is both empowering and makes for better collaboration between various roles.\n\n### Try this at home\n\nIf the reader would be so kind as to send this to their favourite non-developer and ask them whether they can understand Flow Based Programming from this description, the <a href=\"mailto:author@flowhub.org\">author</a> would be most pleased with feedback!\n\nThank you for reading!\n\n-->","env":[]},{"id":"da7936d50a5b762c","type":"group","z":"ac7774554793f417","name":"Node types","style":{"label":true},"nodes":["c0c373c795859694","e67429070592ba53","8d61f790f5ea511d"],"x":234,"y":203,"w":610,"h":82},{"id":"4ad9d6b654e58ee6","type":"group","z":"ac7774554793f417","name":"Data duplication","style":{"label":true},"nodes":["a8b53e9c746f7e3e","71c86253a96eaf59","dd8bb0320f2a2c94","01c7e1178e5571c1"],"x":234,"y":353,"w":588.5,"h":153},{"id":"eecb8f927c5b21f3","type":"group","z":"ac7774554793f417","name":"Data decision","style":{"label":true},"nodes":["f3cb6bbcc32d8dc5","77aa26522a923ab5","e1ace6a88d568e89","4a8999f6d751601e","d17f862d03f9c963"],"x":234,"y":574,"w":528.5,"h":224},{"id":"c0c373c795859694","type":"function","z":"ac7774554793f417","g":"da7936d50a5b762c","name":"function","func":"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":539,"y":244,"wires":[["8d61f790f5ea511d"]]},{"id":"e67429070592ba53","type":"inject","z":"ac7774554793f417","g":"da7936d50a5b762c","name":"inject","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":330,"y":244,"wires":[["c0c373c795859694"]]},{"id":"8d61f790f5ea511d","type":"debug","z":"ac7774554793f417","g":"da7936d50a5b762c","name":"debug","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":748,"y":244,"wires":[]},{"id":"a8b53e9c746f7e3e","type":"inject","z":"ac7774554793f417","g":"4ad9d6b654e58ee6","name":"inject","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":330,"y":429.5,"wires":[["71c86253a96eaf59"]]},{"id":"71c86253a96eaf59","type":"function","z":"ac7774554793f417","g":"4ad9d6b654e58ee6","name":"function","func":"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":533,"y":429.5,"wires":[["dd8bb0320f2a2c94","01c7e1178e5571c1"]]},{"id":"dd8bb0320f2a2c94","type":"function","z":"ac7774554793f417","g":"4ad9d6b654e58ee6","name":"function","func":"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":736.5,"y":394,"wires":[[]]},{"id":"01c7e1178e5571c1","type":"debug","z":"ac7774554793f417","g":"4ad9d6b654e58ee6","name":"debug","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":726.5,"y":465,"wires":[]},{"id":"f3cb6bbcc32d8dc5","type":"switch","z":"ac7774554793f417","g":"eecb8f927c5b21f3","name":"switch","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"","vt":"str"},{"t":"eq","v":"","vt":"str"},{"t":"eq","v":"","vt":"str"}],"checkall":"false","repair":false,"outputs":3,"x":503,"y":686,"wires":[["e1ace6a88d568e89"],["4a8999f6d751601e"],["d17f862d03f9c963"]]},{"id":"77aa26522a923ab5","type":"inject","z":"ac7774554793f417","g":"eecb8f927c5b21f3","name":"inject","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":330,"y":686,"wires":[["f3cb6bbcc32d8dc5"]]},{"id":"e1ace6a88d568e89","type":"function","z":"ac7774554793f417","g":"eecb8f927c5b21f3","name":"function","func":"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":676.5,"y":615,"wires":[[]]},{"id":"4a8999f6d751601e","type":"debug","z":"ac7774554793f417","g":"eecb8f927c5b21f3","name":"debug","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":666.5,"y":686,"wires":[]},{"id":"d17f862d03f9c963","type":"function","z":"ac7774554793f417","g":"eecb8f927c5b21f3","name":"function","func":"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":676.5,"y":757,"wires":[[]]}]